{"version":3,"sources":["UI/KeyboardShortcuts/InteractionKeys.js","Utils/GDevelopServices/Authentication.js","MainFrame/Onboarding/OnboardingDialog.js","locales/LocalesMetadata.js","UI/FlatButton.js","UI/RaisedButton.js","UI/Theme/ThemeContext.js","Utils/UseForceUpdate.js","UI/MarkdownText.js","Utils/Platform.js","KeyboardShortcuts/DefaultShortcuts.js","Utils/LoadScript.js","Utils/i18n/RtlLanguages.js","Utils/Memoize.js","UI/Theme/DefaultDarkTheme/index.js","UI/Theme/BlueDarkTheme/index.js","UI/Theme/NordTheme/index.js","UI/Theme/SolarizedDarkTheme/index.js","UI/Theme/OneDarkTheme/index.js","UI/Theme/RosePineTheme/index.js","UI/Theme/ThemeRegistry.js","UI/Theme/index.js","Utils/StartupTimes.js","Utils/Analytics/Raven.js","serviceWorker.js","index.js","Utils/OptionalRequire.js","UI/Theme/CreateTheme.js","UI/Grid.js","Utils/Window.js","Utils/Analytics/UserUUID.js","MainFrame/Preferences/PreferencesContext.js","Utils/Language.js","Utils/GDevelopServices/ApiConfigs.js","Version/index.js","UI/Theme/DefaultLightTheme/index.js","UI/Messages/MessageBox.js","Version/VersionMetadata.js","UI/Layout.js","Utils/Analytics/EventSender.js","MainFrame/Preferences/PreferencesProvider.js","Utils/UseOnResize.js","UI/Reponsive/ResponsiveWindowMeasurer.js","Utils/Analytics/LocalStats.js","UI/Dialog/index.js"],"names":["shouldCloseOrCancel","event","key","shouldValidate","shouldBrowsePrevious","shiftKey","shouldActivate","shouldSubmit","metaKey","ctrlKey","shouldZoom","shouldFocusNextField","shouldFocusPreviousField","Authentication","_onUserLogoutCallbacks","_onUserUpdateCallbacks","addUserLogoutListener","cb","push","addUserUpdateListener","removeEventListener","cbToRemove","filter","createFirebaseAccount","form","createUserWithEmailAndPassword","auth","email","password","then","userCredentials","sendEmailVerification","user","catch","error","console","createUser","getAuthorizationHeader","appLanguage","authorizationHeader","currentUser","Error","axios","post","GDevelopUserApi","baseUrl","id","uid","username","params","userId","headers","Authorization","login","signInWithEmailAndPassword","forgotPassword","sendPasswordResetEmail","getFirebaseUser","a","reload","sendFirebaseEmailVerification","emailVerified","showErrorBox","message","rawError","errorId","changeEmail","updateEmail","log","patch","getUserProfile","get","response","data","editUserProfile","description","getGameStatsEmail","acceptGameStatsEmail","getFirebaseUserSync","logout","signOut","getIdToken","token","isAuthenticated","app","initializeApp","GDevelopFirebaseConfig","this","getAuth","onAuthStateChanged","forEach","isDev","Window","isUserflowInitialized","isUserflowRunning","styles","imgContainer","marginBottom","userFlowIds","fr_FR","pt_BR","pt_PT","es_ES","en","OnboardingDialog","open","onClose","onUserflowRunningUpdate","React","loading","setLoading","userPreferences","PreferencesContext","values","initializeUserflow","userflow","init","on","isRunning","startUserflow","language","identify","getUserUUID","flowId","start","actions","label","onClick","primary","disabled","title","onRequestClose","onApply","maxWidth","noMargin","alignItems","justifyContent","style","alt","src","width","height","source","allowParagraphs","module","exports","FlatButton","ref","leftIcon","rightIcon","keyboardFocused","otherProps","variant","size","color","autoFocus","focusRipple","RaisedButton","icon","disableElevation","GDevelopThemeContext","DefaultLightTheme","gdevelopTheme","useForceUpdate","updateState","MarkdownText","props","ThemeContext","markdownCustomRenderers","isStandaloneText","root","link","href","target","rel","children","linkReference","paragraph","i18n","escapeHtml","translatableSource","_","className","classNames","markdownRootClassName","renderers","remote","optionalRequire","process","_isWindows","require","windows","_isMacLike","navigator","platform","match","_isMobile","test","userAgent","getUserAgent","getArch","arch","getSystemVersion","getPlatformName","isWindows","isMacLike","isMobile","defaultShortcuts","QUIT_APP","OPEN_PROJECT_MANAGER","LAUNCH_NEW_PREVIEW","LAUNCH_DEBUG_PREVIEW","HOT_RELOAD_PREVIEW","LAUNCH_NETWORK_PREVIEW","OPEN_HOME_PAGE","CREATE_NEW_PROJECT","OPEN_PROJECT","SAVE_PROJECT","SAVE_PROJECT_AS","CLOSE_PROJECT","EXPORT_GAME","OPEN_RECENT_PROJECT","OPEN_COMMAND_PALETTE","OPEN_PROJECT_PROPERTIES","OPEN_PROJECT_LOADING_SCREEN","OPEN_PROJECT_VARIABLES","OPEN_PLATFORM_SPECIFIC_ASSETS_DIALOG","OPEN_PROJECT_RESOURCES","OPEN_LAYOUT","OPEN_EXTERNAL_EVENTS","OPEN_EXTERNAL_LAYOUT","OPEN_EXTENSION","OPEN_SCENE_PROPERTIES","OPEN_SCENE_VARIABLES","OPEN_OBJECTS_PANEL","OPEN_OBJECT_GROUPS_PANEL","OPEN_PROPERTIES_PANEL","TOGGLE_INSTANCES_PANEL","TOGGLE_LAYERS_PANEL","TOGGLE_WINDOW_MASK","TOGGLE_GRID","OPEN_SETUP_GRID","EDIT_LAYER_EFFECTS","EDIT_LAYER","EDIT_OBJECT","EDIT_OBJECT_VARIABLES","EDIT_OBJECT_GROUP","ADD_STANDARD_EVENT","ADD_SUBEVENT","ADD_COMMENT_EVENT","TOGGLE_EVENT_DISABLED","CHOOSE_AND_ADD_EVENT","OPEN_EXTENSION_SETTINGS","loadScript","Promise","resolve","reject","document","body","scriptElement","createElement","type","onload","onerror","onabort","appendChild","rtlLanguages","Set","memoize","func","primitives","Map","objects","WeakMap","input","cache","cacheFor","cachedValue","value","set","createGdevelopTheme","rootClassNameIdentifier","paletteType","gdevelopIconsCSSFilter","themes","DefaultDarkTheme","BlueDarkTheme","NordTheme","SolarizedDarkTheme","OneDarkTheme","RosePineTheme","defaultThemeName","getTheme","themeName","theme","warn","name","ltr","has","muiThemeOptions","muiTheme","createLtrTheme","createRtlTheme","createMuiTheme","overrides","rtlOverrides","rtlDirection","direction","MuiTypography","MuiInput","MuiTab","MuiButton","MuiSvgIcon","order","MuiFormControlLabel","MuiTextField","GD_STARTUP_TIMES","global","getStartupTimesSummary","previousStep","steps","map","step","stepSummary","stepName","time","elapsedTime","totalStartupTime","installRaven","Raven","config","release","getIDEVersionWithHash","install","setUserContext","isLocalhost","Boolean","window","location","hostname","register","publicUrl","URL","origin","addEventListener","swUrl","fetch","contentType","status","indexOf","serviceWorker","ready","registration","unregister","registerValidSW","checkValidServiceWorker","onupdatefound","installingWorker","installing","onstatechange","state","controller","onUpdate","onSuccess","electron","loadPreferencesFromLocalStorage","palette","background","default","getElementsByTagName","backgroundColor","loadingMessage","position","top","left","right","fontSize","fontFamily","textAlign","animation","Bootstrapper","App","authentication","handleEditorLoadError","setState","installAnalyticsEvents","performance","now","VersionMetadata","versionWithHash","initializeGDevelopJs","locateFile","path","prefix","gd","sendProgramOpening","create","Fragment","Component","rootElement","getElementById","ReactDOM","render","nodeRequire","moduleName","rethrowException","ex","closeableTabSizeOverrides","closeButtonWidth","getThemeModeFromMainColor","contrastText","light","lighten","main","dark","darken","getThemeColors","secondary","success","info","warning","tabTextColor","tabBackgroundColor","inputBorderBottomColor","appBarBackgroundColor","appBarTextColor","iconColor","outlinedButtonBorderColor","alternateCanvasBackgroundColor","canvasColor","valid","toolbar","separatorColor","text","highlighted","home","header","separator","dropIndicator","canDrop","cannotDrop","border","closableTabs","containerBackgroundColor","textColor","selectedBackgroundColor","selectedTextColor","imageThumbnail","selectedBorderColor","imagePreview","backgroundFilter","borderColor","frameBorderColor","list","itemsBackgroundColor","searchBar","listItem","groupBackgroundColor","groupTextColor","deprecatedGroupTextColor","rightIconColor","selectedRightIconColor","errorTextColor","warningTextColor","selectedErrorBackgroundColor","selectedWarningBackgroundColor","emptyMessage","shadowColor","mosaicRootClassName","eventsSheetRootClassName","tableRootClassName","logo","chart","tooltipBackgroundColor","dataColor1","gridColor","typography","common","black","white","paper","alternate","hint","h1","lineHeight","fontWeight","letterSpacing","h2","h3","h4","h5","h6","body1","padding","paddingBottom","underline","borderBottom","MuiAppBar","colorPrimary","MuiIconButton","MuiListItemIcon","MuiListItem","secondaryAction","paddingRight","MuiListItemSecondaryAction","MuiTabs","minHeight","textColorPrimary","textTransform","paddingTop","MuiButtonBase","cursor","MuiTableCell","sizeSmall","MuiDialogTitle","MuiDialogContent","MuiFormControl","marginDense","marginTop","MuiCheckbox","MuiPaper","rounded","borderRadius","outlined","outlinedSizeSmall","containedSizeSmall","textSizeSmall","fontSizeSmall","MuiAccordion","margin","opacity","display","MuiAccordionSummary","content","expandIcon","MuiAccordionDetails","MuiCardHeader","flexGrow","MuiMenu","Line","flex","expand","undefined","overflow","useFullHeight","Column","marginLeft","marginRight","flexDirection","minWidth","noOverflowParent","Spacer","flexShrink","LargeSpacer","shell","dialog","POSITIONAL_ARGUMENTS_KEY","currentTitleBarColor","getCurrentWindow","setTitle","err","newColor","metaElement","querySelector","setAttribute","x","y","scaleFactor","rect","screen","getDisplayMatching","browserWindow","setBounds","Math","round","show","quit","showInactive","setAlwaysOnTop","forceHide","isFocused","hide","getGlobal","argumentsObject","URLSearchParams","search","project","showMessageBoxSync","buttons","alert","confirm","cancelId","textEditorSelectors","buildEditorContextMenu","e","closest","menu","setTimeout","popup","preventDefault","url","openExternal","dev","generateUUID","random","toString","replace","localStorageKey","currentUserUuid","resetUserUUID","newUserUUID","localStorage","setItem","storedUserUUID","getItem","initialPreferences","autoDownloadUpdates","matchMedia","matches","codeEditorThemeName","hiddenAlertMessages","hiddenTutorialHints","autoDisplayChangelog","lastLaunchedVersion","eventsSheetShowObjectThumbnails","autosaveOnPreview","useNewInstructionEditorDialog","useUndefinedVariablesInAutocompletion","useGDJSDevelopmentWatcher","eventsSheetUseAssignmentOperators","eventsSheetZoomLevel","showEffectParameterNames","projectLastUsedPaths","defaultEditorMosaicNodes","recentProjectFiles","autoOpenMostRecentProject","hasProjectOpened","userShortcutMap","newObjectDialogDefaultTab","isMenuBarHiddenInPreview","isAlwaysOnTopInPreview","backdropClickBehavior","eventsSheetCancelInlineParameter","showCommunityExtensions","showGetStartedSection","setLanguage","setThemeName","setCodeEditorThemeName","setAutoDownloadUpdates","checkUpdates","setAutoDisplayChangelog","showAlertMessage","identifier","showAllAlertMessages","showTutorialHint","showAllTutorialHints","verifyIfIsNewVersion","setEventsSheetShowObjectThumbnails","setAutosaveOnPreview","setUseNewInstructionEditorDialog","enabled","setUseUndefinedVariablesInAutocompletion","setUseGDJSDevelopmentWatcher","setEventsSheetUseAssignmentOperators","setEventsSheetZoomLevel","zoomLevel","setShowEffectParameterNames","getLastUsedPath","kind","setLastUsedPath","getDefaultEditorMosaicNode","setDefaultEditorMosaicNode","node","getRecentProjectFiles","insertRecentProjectFile","fileMetadata","removeRecentProjectFile","getAutoOpenMostRecentProject","setAutoOpenMostRecentProject","hadProjectOpenedDuringLastSession","setHasProjectOpened","resetShortcutsToDefault","setShortcutForCommand","commandName","shortcut","getNewObjectDialogDefaultTab","setNewObjectDialogDefaultTab","getIsMenuBarHiddenInPreview","setIsMenuBarHiddenInPreview","setBackdropClickBehavior","getIsAlwaysOnTopInPreview","setIsAlwaysOnTopInPreview","setEventsSheetCancelInlineParameter","setShowCommunityExtensions","setShowGetStartedSection","setLanguageInDOM","formattedLanguage","htmlTag","metaContentLanguage","getBrowserLanguageOrLocale","selectLanguageOrLocale","languageOrLocale","defaultLanguage","languageMetadata","LocalesMetadata","localeMetadata","languageCode","length","translationRatio","split","getLanguageOnlyFromLanguageOrLocale","localeCandidates","startsWith","sort","b","GDevelopGamePreviews","GDevelopGamesPlatform","getInstantBuildUrl","buildId","getGameUrl","gameId","getGameUrlWithSlug","userSlug","gameSlug","toLowerCase","getUserPublicProfileUrl","GDevelopBuildApi","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","GDevelopUsageApi","GDevelopReleaseApi","GDevelopAssetApi","GDevelopAnalyticsApi","GDevelopGameApi","GDevelopPlayApi","getIDEVersion","version","gdCoreVersionString","getGDCoreVersion","VersionWrapper","fullString","showMessageBox","showWarningBox","options","delayToNextTick","doNotReport","sendErrorMessage","buttonCommonStyles","textFieldWithButtonLayoutStyles","container","filledTextFieldWithLabelRightButtonMargins","filledTextFieldWithoutLabelRightButtonMargins","standardTextFieldWithLabelRightButtonMargins","standardTextFieldWithoutLabelRightButtonMargins","TextFieldWithButtonLayout","noFloatingLabelText","renderTextField","renderButton","LineStackLayout","isFirstChild","child","index","addSpacers","ResponsiveLineStackLayout","noColumnMargin","windowWidth","useResponsiveWindowWidth","ColumnStackLayout","isElectronApp","startupTimesSummary","posthogLoaded","posthogAliasMade","posthogLastPropertiesSent","keenClient","recordEvent","metadata","posthog","capture","isInAppTutorialRunning","isInDesktopApp","isInWebApp","updateUserInformation","firebaseUser","browserLanguage","userProperties","providerId","uuid","programOpeningCount","getProgramOpeningCount","usedDesktopApp","usedWebApp","aliasKey","includes","alias","stringifiedUserProperties","JSON","stringify","reset","api_host","loaded","autocapture","sessionCookie","Keen","utils","cookie","sessionTimer","timer","writeKey","extendEvents","localStats","tutorials","versionMetadata","page","referrer","tech","browser","helpers","getBrowserProfile","ip","ua","getDatetimeIndex","visitor","time_on_page","keen","timestamp","Date","toISOString","addons","output","ua_string","page_url","referrer_url","incrementProgramOpeningCount","sendExportLaunched","exportKind","sendExampleDetailsOpened","slug","sendNewGameCreated","exampleUrl","exampleSlug","templateName","sendTutorialOpened","tutorialName","sendOnboardingManuallyOpened","sendAssetPackOpened","assetPackTag","sendHelpFinderOpened","sendHelpSearch","searchText","sendSignupDone","sendSubscriptionCheckDialogShown","mode","sendSubscriptionCheckDismiss","sendSubscriptionDialogShown","sendAssetOpened","sendAssetAddedToProject","sendExtensionDetailsOpened","sendExtensionAddedToProject","sendNewObjectCreated","sendShowcaseGameLinkOpened","linkType","sendChoosePlanClicked","planId","sendExternalEditorOpened","editorName","sendBehaviorsEditorShown","parentEditor","sendBehaviorAdded","behaviorType","sendEventsExtractedAsFunction","trackInAppTutorialProgress","stepIndex","isCompleted","ipcRenderer","LocalStorageItem","persistedState","parse","hasOwnProperty","getPreferences","preferences","browserLanguageOrLocale","getInitialPreferences","PreferencesProvider","_setLanguage","bind","_setThemeName","_setCodeEditorThemeName","_setAutoDownloadUpdates","_checkUpdates","_setAutoDisplayChangelog","_showAlertMessage","_showAllAlertMessages","_showTutorialHint","_showAllTutorialHints","_verifyIfIsNewVersion","_setEventsSheetShowObjectThumbnails","_setAutosaveOnPreview","_setUseNewInstructionEditorDialog","_setUseUndefinedVariablesInAutocompletion","_setUseGDJSDevelopmentWatcher","_setEventsSheetUseAssignmentOperators","_setEventsSheetZoomLevel","_setShowEffectParameterNames","_getLastUsedPath","_setLastUsedPath","_getDefaultEditorMosaicNode","_setDefaultEditorMosaicNode","_getRecentProjectFiles","_insertRecentProjectFile","_removeRecentProjectFile","_getAutoOpenMostRecentProject","_setAutoOpenMostRecentProject","_hadProjectOpenedDuringLastSession","_setHasProjectOpened","_setShortcutForCommand","_resetShortcutsToDefault","_getNewObjectDialogDefaultTab","_setNewObjectDialogDefaultTab","_getIsMenuBarHiddenInPreview","_setIsMenuBarHiddenInPreview","_setBackdropClickBehavior","_getIsAlwaysOnTopInPreview","_setIsAlwaysOnTopInPreview","_setEventsSheetCancelInlineParameter","_setShowCommunityExtensions","_setShowGetStartedSection","_persistValuesToLocalStorage","forceDownload","disableCheckForUpdates","send","currentVersion","projectPath","getProjectFile","projectPaths","latestPath","newProjectLastUsedPaths","recents","newRecentFile","_setRecentProjectFiles","recentFile","fileIdentifier","slice","recentFileItem","shortcutString","setToDefault","updatedShortcutMap","Provider","listeners","timeout","callListeners","callback","clearTimeout","ResponsiveWindowMeasurer","useEffect","add","delete","innerWidth","innerHeight","localStoragePrefix","count","parseInt","defaultBody","overflowX","noMarginBody","flexColumnBody","flexBody","actionsContainerWithSecondaryActions","noTitleMargin","fullHeightModal","DialogPrimaryButton","Dialog","secondaryActions","fullHeight","cannotBeDismissed","dialogActions","dialogContentStyle","onCloseDialog","reason","handleKeyDown","stopPropagation","element","activeElement","blur","fullWidth","fullScreen","PaperProps","disableBackdropClick","onKeyDown"],"mappings":"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","file":"static/js/main.df4c424c.chunk.js","sourcesContent":["// @flow\n\n// These functions are very simple, but are there to ensure consistency\n// in the codebase when dealing with keys.\n\ntype SupportedEvent = KeyboardEvent | SyntheticKeyboardEvent<any>;\n\n/**\n * Check if the user asked to close/cancel what is being edited.\n */\nexport const shouldCloseOrCancel = (event: SupportedEvent) => {\n  return event.key === 'Escape';\n};\n\n/**\n * Check if the user asked to validate what is being edited.\n */\nexport const shouldValidate = (event: SupportedEvent) => {\n  return event.key === 'Enter';\n};\n\n/**\n * Check if the user asked to go to previous match.\n */\nexport const shouldBrowsePrevious = (event: SupportedEvent) => {\n  return event.shiftKey && event.key === 'Enter';\n};\n\n/**\n * Check if the user asked to activate something.\n */\nexport const shouldActivate = (event: SupportedEvent) => {\n  return event.key === 'Enter' || event.key === ' ';\n};\n\n/**\n * Check if the user wants to apply changes or \"submit\" what they did.\n * This is more intentional from the user than just\n * `shouldValidate` or `shouldActivate`.\n */\nexport const shouldSubmit = (event: SupportedEvent) => {\n  return (event.metaKey || event.ctrlKey) && event.key === 'Enter';\n};\n\n/**\n * Check if the user wants to zoom when scrolling.\n */\nexport const shouldZoom = (event: SupportedEvent) => {\n  return event.metaKey || event.ctrlKey;\n};\n\n/**\n * Check if the user asked to go to the next field.\n * Note that in most case, this should be automatically handled by the browser\n * (or material-ui), and using this should not be needed.\n */\nexport const shouldFocusNextField = (event: SupportedEvent) => {\n  return event.key === 'Tab' && !event.shiftKey;\n};\n\n/**\n * Check if the user asked to go to the previous field.\n * Note that in most case, this should be automatically handled by the browser\n * (or material-ui), and using this should not be needed.\n */\nexport const shouldFocusPreviousField = (event: SupportedEvent) => {\n  return event.key === 'Tab' && event.shiftKey;\n};\n","// @flow\nimport { initializeApp } from 'firebase/app';\nimport {\n  Auth,\n  getAuth,\n  onAuthStateChanged,\n  User as FirebaseUser,\n  createUserWithEmailAndPassword,\n  signInWithEmailAndPassword,\n  sendPasswordResetEmail,\n  signOut,\n  sendEmailVerification,\n  updateEmail,\n} from 'firebase/auth';\nimport { GDevelopFirebaseConfig, GDevelopUserApi } from './ApiConfigs';\nimport axios from 'axios';\nimport { showErrorBox } from '../../UI/Messages/MessageBox';\n\nexport type Profile = {|\n  id: string,\n  email: string,\n  username: ?string,\n  description: ?string,\n  getGameStatsEmail: boolean,\n|};\n\nexport type LoginForm = {|\n  email: string,\n  password: string,\n|};\n\nexport type RegisterForm = {|\n  email: string,\n  password: string,\n  username: string,\n|};\n\nexport type EditForm = {|\n  username: string,\n  description: string,\n  getGameStatsEmail: boolean,\n|};\n\nexport type ChangeEmailForm = {|\n  email: string,\n|};\n\nexport type AuthError = {\n  code:\n    | 'auth/invalid-email'\n    | 'auth/user-disabled'\n    | 'auth/user-not-found'\n    | 'auth/wrong-password'\n    | 'auth/email-already-in-use'\n    | 'auth/operation-not-allowed'\n    | 'auth/weak-password'\n    | 'auth/username-used'\n    | 'auth/malformed-username'\n    | 'auth/requires-recent-login'\n    | 'auth/too-many-requests',\n};\n\nexport default class Authentication {\n  auth: Auth;\n  _onUserLogoutCallbacks: Array<() => void | Promise<void>> = [];\n  _onUserUpdateCallbacks: Array<() => void | Promise<void>> = [];\n\n  constructor() {\n    const app = initializeApp(GDevelopFirebaseConfig);\n    this.auth = getAuth(app);\n    onAuthStateChanged(this.auth, user => {\n      if (user) {\n        // User has logged in or changed.\n        this._onUserUpdateCallbacks.forEach(cb => cb());\n      } else {\n        // User has logged out.\n        this._onUserLogoutCallbacks.forEach(cb => cb());\n      }\n    });\n  }\n\n  addUserLogoutListener = (cb: () => void | Promise<void>) => {\n    this._onUserLogoutCallbacks.push(cb);\n  };\n\n  addUserUpdateListener = (cb: () => void | Promise<void>) => {\n    this._onUserUpdateCallbacks.push(cb);\n  };\n\n  removeEventListener = (cbToRemove: () => void | Promise<void>) => {\n    this._onUserLogoutCallbacks = this._onUserLogoutCallbacks.filter(\n      cb => cb !== cbToRemove\n    );\n    this._onUserUpdateCallbacks = this._onUserUpdateCallbacks.filter(\n      cb => cb !== cbToRemove\n    );\n  };\n\n  createFirebaseAccount = (form: RegisterForm): Promise<void> => {\n    return createUserWithEmailAndPassword(this.auth, form.email, form.password)\n      .then(userCredentials => {\n        // The user is now stored in `this.auth`.\n        sendEmailVerification(userCredentials.user);\n      })\n      .catch(error => {\n        console.error('Error while creating firebase account:', error);\n        throw error;\n      });\n  };\n\n  createUser = (\n    getAuthorizationHeader: () => Promise<string>,\n    form: RegisterForm,\n    appLanguage: string\n  ): Promise<void> => {\n    return getAuthorizationHeader()\n      .then(authorizationHeader => {\n        const { currentUser } = this.auth;\n        if (!currentUser) {\n          console.error(\n            'Cannot create the user as it is not logged in any more.'\n          );\n          throw new Error(\n            'Cannot create the user as it is not logged in any more.'\n          );\n        }\n        return axios.post(\n          `${GDevelopUserApi.baseUrl}/user`,\n          {\n            id: currentUser.uid,\n            email: form.email,\n            username: form.username,\n            appLanguage: appLanguage,\n          },\n          {\n            params: {\n              userId: currentUser.uid,\n            },\n            headers: {\n              Authorization: authorizationHeader,\n            },\n          }\n        );\n      })\n      .then(() => {\n        // User successfully created\n      })\n      .catch(error => {\n        console.error('Error while creating user:', error);\n        throw error;\n      });\n  };\n\n  login = (form: LoginForm): Promise<void> => {\n    return signInWithEmailAndPassword(this.auth, form.email, form.password)\n      .then(userCredentials => {\n        // The user is now stored in `this.auth`.\n      })\n      .catch(error => {\n        console.error('Error while login:', error);\n        throw error;\n      });\n  };\n\n  forgotPassword = (form: LoginForm): Promise<void> => {\n    return sendPasswordResetEmail(this.auth, form.email);\n  };\n\n  getFirebaseUser = async (): Promise<?FirebaseUser> => {\n    const { currentUser } = this.auth;\n    if (!currentUser) {\n      return null;\n    }\n\n    // In order to fetch the latest firebaseUser properties (like emailVerified)\n    // we have to call the reload method.\n    await currentUser.reload();\n    return this.auth.currentUser;\n  };\n\n  sendFirebaseEmailVerification = async (): Promise<void> => {\n    {\n      const { currentUser } = this.auth;\n      if (!currentUser)\n        throw new Error(\n          'Tried to send verification email while not authenticated.'\n        );\n\n      await currentUser.reload();\n    }\n    const { currentUser } = this.auth;\n    if (!currentUser || currentUser.emailVerified) return;\n\n    try {\n      sendEmailVerification(currentUser);\n    } catch (error) {\n      showErrorBox({\n        message:\n          'An email has been sent recently, check your inbox or please try again later.',\n        rawError: error,\n        errorId: 'email-verification-send-error',\n      });\n    }\n  };\n\n  changeEmail = async (\n    getAuthorizationHeader: () => Promise<string>,\n    form: ChangeEmailForm\n  ) => {\n    const { currentUser } = this.auth;\n    if (!currentUser)\n      throw new Error('Tried to change email while not authenticated.');\n\n    return updateEmail(currentUser, form.email)\n      .then(() => sendEmailVerification(currentUser))\n      .then(() => {\n        console.log('Email successfully changed in Firebase.');\n        return getAuthorizationHeader();\n      })\n      .then(authorizationHeader => {\n        return axios.patch(\n          `${GDevelopUserApi.baseUrl}/user/${currentUser.uid}`,\n          {\n            email: form.email,\n          },\n          {\n            params: {\n              userId: currentUser.uid,\n            },\n            headers: {\n              Authorization: authorizationHeader,\n            },\n          }\n        );\n      })\n      .then(() => {\n        console.log('Email successfully changed in the GDevelop services.');\n      })\n      .catch(error => {\n        console.error('An error happened during email change.', error);\n        throw error;\n      });\n  };\n\n  getUserProfile = async (getAuthorizationHeader: () => Promise<string>) => {\n    const { currentUser } = this.auth;\n    if (!currentUser)\n      throw new Error('Tried to get user profile while not authenticated.');\n\n    return getAuthorizationHeader()\n      .then(authorizationHeader => {\n        return axios.get(`${GDevelopUserApi.baseUrl}/user/${currentUser.uid}`, {\n          params: {\n            userId: currentUser.uid,\n          },\n          headers: {\n            Authorization: authorizationHeader,\n          },\n        });\n      })\n      .then(response => response.data)\n      .catch(error => {\n        console.error('Error while fetching user:', error);\n        throw error;\n      });\n  };\n\n  editUserProfile = async (\n    getAuthorizationHeader: () => Promise<string>,\n    form: EditForm,\n    appLanguage: string\n  ) => {\n    const { currentUser } = this.auth;\n    if (!currentUser)\n      throw new Error('Tried to edit user profile while not authenticated.');\n\n    return getAuthorizationHeader()\n      .then(authorizationHeader => {\n        const { username, description, getGameStatsEmail } = form;\n        return axios.patch(\n          `${GDevelopUserApi.baseUrl}/user/${currentUser.uid}`,\n          {\n            username,\n            description,\n            getGameStatsEmail,\n            appLanguage,\n          },\n          {\n            params: {\n              userId: currentUser.uid,\n            },\n            headers: {\n              Authorization: authorizationHeader,\n            },\n          }\n        );\n      })\n      .then(response => response.data)\n      .catch(error => {\n        console.error('Error while editing user:', error);\n        throw error;\n      });\n  };\n\n  acceptGameStatsEmail = async (\n    getAuthorizationHeader: () => Promise<string>\n  ) => {\n    const { currentUser } = this.auth;\n    if (!currentUser)\n      throw new Error(\n        'Tried to accept game stats email while not authenticated.'\n      );\n\n    return getAuthorizationHeader()\n      .then(authorizationHeader => {\n        return axios.patch(\n          `${GDevelopUserApi.baseUrl}/user/${currentUser.uid}`,\n          { getGameStatsEmail: true },\n          {\n            params: { userId: currentUser.uid },\n            headers: { Authorization: authorizationHeader },\n          }\n        );\n      })\n      .then(response => response.data)\n      .catch(error => {\n        console.error('Error while accepting game stats email:', error);\n        throw error;\n      });\n  };\n\n  getFirebaseUserSync = (): ?FirebaseUser => {\n    return this.auth.currentUser || null;\n  };\n\n  logout = () => {\n    signOut(this.auth)\n      .then(() => {\n        console.log('Logout successful.');\n      })\n      .catch(error => {\n        console.error('An error happened during logout.', error);\n        throw error;\n      });\n  };\n\n  getAuthorizationHeader = async (): Promise<string> => {\n    const { currentUser } = this.auth;\n    if (!currentUser) throw new Error('User is not authenticated.');\n\n    return currentUser.getIdToken().then(token => `Bearer ${token}`);\n  };\n\n  isAuthenticated = (): boolean => {\n    return !!this.auth.currentUser;\n  };\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport userflow from 'userflow.js';\nimport Dialog, { DialogPrimaryButton } from '../../UI/Dialog';\nimport FlatButton from '../../UI/FlatButton';\nimport Window from '../../Utils/Window';\nimport { getUserUUID } from '../../Utils/Analytics/UserUUID';\nimport { Line } from '../../UI/Grid';\nimport { MarkdownText } from '../../UI/MarkdownText';\nimport { showErrorBox } from '../../UI/Messages/MessageBox';\nimport { ColumnStackLayout } from '../../UI/Layout';\nimport PreferencesContext from '../Preferences/PreferencesContext';\nconst isDev = Window.isDev();\n\nlet isUserflowInitialized = false;\nexport let isUserflowRunning = false;\n\nconst styles = {\n  imgContainer: {\n    marginBottom: 16,\n  },\n};\n\nconst USERFLOW_DEV_ID = 'ct_y5qogyfo6zbahjejcbo3dybnta';\nconst USERFLOW_PROD_ID = 'ct_paaz6o2t2bhlrlyi7a3toojn7e';\n\nconst userFlowIds = {\n  fr_FR: '761ac722-d74e-45e3-a870-cd0f60f3299f',\n  pt_BR: 'a31fa85f-df42-40b5-aa80-3c6a59ad9666',\n  pt_PT: 'a31fa85f-df42-40b5-aa80-3c6a59ad9666',\n  es_ES: '146d656b-900a-4294-86a5-70f90f12c1eb',\n  en: 'b1611206-2fae-41ac-b08c-0f8ad72d8c39',\n};\n\nconst onboardingText = `\nIn 5 minutes, you will have:\n  - Created a game\n  - Learned the fundamentals of GDevelop\n\n(The tour is only available in 4 languages: 🇬🇧/🇺🇸 English, 🇫🇷 French, 🇪🇸 Spanish, 🇵🇹 Portuguese)\n\nWe highly recommend it!\n`;\n\ntype Props = {|\n  open: boolean,\n  onClose: () => void,\n  onUserflowRunningUpdate: () => void,\n|};\n\nconst OnboardingDialog = ({\n  open,\n  onClose,\n  onUserflowRunningUpdate,\n}: Props) => {\n  const [loading, setLoading] = React.useState(false);\n  const { values: userPreferences } = React.useContext(PreferencesContext);\n\n  const initializeUserflow = React.useCallback(\n    () => {\n      if (isUserflowInitialized) return;\n      if (isDev) {\n        userflow.init(USERFLOW_DEV_ID);\n      } else {\n        userflow.init(USERFLOW_PROD_ID);\n      }\n      userflow.on(\n        // Undocumented legacy userflow event that is fired\n        // \"when a flow either becomes active or removed\"\n        // (tip given by a tech member of Userflow - it shouldn't be removed\n        // in the near future given the fact that some of their users still use it).\n        'flowvisibilitychange',\n        isRunning => {\n          isUserflowRunning = isRunning;\n          onUserflowRunningUpdate();\n        }\n      );\n      isUserflowInitialized = true;\n    },\n    [onUserflowRunningUpdate]\n  );\n\n  const startUserflow = React.useCallback(\n    async () => {\n      try {\n        setLoading(true);\n        initializeUserflow();\n        const appLanguage = userPreferences.language;\n        await userflow.identify(getUserUUID(), { language: appLanguage });\n        const flowId = userFlowIds[appLanguage || 'en'] || userFlowIds.en;\n        await userflow.start(flowId);\n        onClose();\n      } catch (e) {\n        // Something wrong happened, allow the user to retry.\n        console.error(\n          'An error happened while starting the onboarding flow',\n          e\n        );\n        showErrorBox({\n          message: `There was an error while starting the onboarding flow. Verify your internet connection or try again later.`,\n          rawError: e,\n          errorId: 'onboarding-start-error',\n        });\n      } finally {\n        setLoading(false);\n      }\n    },\n    [initializeUserflow, userPreferences.language, onClose]\n  );\n\n  const actions = [\n    <FlatButton\n      key=\"close\"\n      label={<Trans>No thanks, I'm good</Trans>}\n      onClick={onClose}\n    />,\n    <DialogPrimaryButton\n      key=\"start\"\n      label={<Trans>Let's go!</Trans>}\n      primary\n      onClick={startUserflow}\n      disabled={loading}\n    />,\n  ];\n\n  return (\n    <Dialog\n      title={<Trans>Take a quick tour?</Trans>}\n      actions={actions}\n      open={open}\n      onRequestClose={onClose}\n      onApply={startUserflow}\n      maxWidth=\"xs\"\n    >\n      <ColumnStackLayout noMargin>\n        <Line alignItems=\"center\" justifyContent=\"center\" noMargin>\n          <div style={styles.imgContainer}>\n            <img alt=\"hero\" src=\"res/hero.png\" width={48} height={48} />\n          </div>\n        </Line>\n        <Line noMargin>\n          <MarkdownText source={onboardingText} allowParagraphs />\n        </Line>\n      </ColumnStackLayout>\n    </Dialog>\n  );\n};\n\nexport default OnboardingDialog;\n","// This file is generated by compile-translations.js script\n// prettier-ignore\nmodule.exports = [\n  {\n    \"languageCode\": \"af_ZA\",\n    \"languageName\": \"Afrikaans\",\n    \"languageNativeName\": \"Afrikaans\",\n    \"translationRatio\": 0.04821226338780138\n  },\n  {\n    \"languageCode\": \"ar_SA\",\n    \"languageName\": \"Arabic\",\n    \"languageNativeName\": \"اللغة العربية\",\n    \"translationRatio\": 0.3680634201585504\n  },\n  {\n    \"languageCode\": \"az_AZ\",\n    \"languageName\": \"Azerbaijani\",\n    \"languageNativeName\": \"azərbaycan dili\",\n    \"translationRatio\": 0.03559294612522246\n  },\n  {\n    \"languageCode\": \"bg_BG\",\n    \"languageName\": \"Bulgarian\",\n    \"languageNativeName\": \"български език\",\n    \"translationRatio\": 0.05241870247532765\n  },\n  {\n    \"languageCode\": \"bn_BD\",\n    \"languageName\": \"Bengali\",\n    \"languageNativeName\": \"বাংলা\",\n    \"translationRatio\": 0.05921371946287013\n  },\n  {\n    \"languageCode\": \"ca_ES\",\n    \"languageName\": \"Catalan\",\n    \"languageNativeName\": \"Català\",\n    \"translationRatio\": 0.29703931402685646\n  },\n  {\n    \"languageCode\": \"cs_CZ\",\n    \"languageName\": \"Czech\",\n    \"languageNativeName\": \"čeština\",\n    \"translationRatio\": 0.19349619802620932\n  },\n  {\n    \"languageCode\": \"da_DK\",\n    \"languageName\": \"Danish\",\n    \"languageNativeName\": \"dansk\",\n    \"translationRatio\": 0.06730302540042066\n  },\n  {\n    \"languageCode\": \"de_DE\",\n    \"languageName\": \"German\",\n    \"languageNativeName\": \"Deutsch\",\n    \"translationRatio\": 0.7513347354796959\n  },\n  {\n    \"languageCode\": \"el_GR\",\n    \"languageName\": \"Greek\",\n    \"languageNativeName\": \"Ελληνικά\",\n    \"translationRatio\": 0.2643585180391522\n  },\n  {\n    \"languageCode\": \"en\",\n    \"languageName\": \"English\",\n    \"languageNativeName\": \"English\",\n    \"translationRatio\": 0.05152887882219703\n  },\n  {\n    \"languageCode\": \"eo_UY\",\n    \"languageName\": \"Esperanto\",\n    \"languageNativeName\": \"Esperanto\",\n    \"translationRatio\": 0.03591651836272447\n  },\n  {\n    \"languageCode\": \"es_ES\",\n    \"languageName\": \"Spanish\",\n    \"languageNativeName\": \"Español\",\n    \"translationRatio\": 0.9873806827374211\n  },\n  {\n    \"languageCode\": \"fa_IR\",\n    \"languageName\": \"Persian\",\n    \"languageNativeName\": \"فارسی\",\n    \"translationRatio\": 0.20012942889500085\n  },\n  {\n    \"languageCode\": \"fi_FI\",\n    \"languageName\": \"Finnish\",\n    \"languageNativeName\": \"suomi\",\n    \"translationRatio\": 0.22633878013266462\n  },\n  {\n    \"languageCode\": \"fil_PH\",\n    \"languageName\": \"Filipino\",\n    \"languageNativeName\": \"Mga Filipino\",\n    \"translationRatio\": 0.37550558162109693\n  },\n  {\n    \"languageCode\": \"fr_FR\",\n    \"languageName\": \"French\",\n    \"languageNativeName\": \"Français\",\n    \"translationRatio\": 0.955670603462223\n  },\n  {\n    \"languageCode\": \"ha_HG\",\n    \"languageName\": \"Hausa\",\n    \"languageNativeName\": \"هَوُسَ\",\n    \"translationRatio\": 0.020061478725125426\n  },\n  {\n    \"languageCode\": \"he_IL\",\n    \"languageName\": \"Hebrew\",\n    \"languageNativeName\": \"עברית\",\n    \"translationRatio\": 0.14965215984468527\n  },\n  {\n    \"languageCode\": \"hi_IN\",\n    \"languageName\": \"Hindi\",\n    \"languageNativeName\": \"हिन्दी\",\n    \"translationRatio\": 0.23717845008898242\n  },\n  {\n    \"languageCode\": \"hu_HU\",\n    \"languageName\": \"Hungarian\",\n    \"languageNativeName\": \"magyar\",\n    \"translationRatio\": 0.19754085099498464\n  },\n  {\n    \"languageCode\": \"id_ID\",\n    \"languageName\": \"Indonesian\",\n    \"languageNativeName\": \"Bahasa Indonesia\",\n    \"translationRatio\": 0.5316291862158227\n  },\n  {\n    \"languageCode\": \"ig_NG\",\n    \"languageName\": \"Igbo\",\n    \"languageNativeName\": \"Asụsụ Igbo\",\n    \"translationRatio\": 0.014722536806342057\n  },\n  {\n    \"languageCode\": \"it_IT\",\n    \"languageName\": \"Italian\",\n    \"languageNativeName\": \"Italiano\",\n    \"translationRatio\": 0.8674971687429218\n  },\n  {\n    \"languageCode\": \"ja_JP\",\n    \"languageName\": \"Japanese\",\n    \"languageNativeName\": \"日本語\",\n    \"translationRatio\": 0.9786442323248665\n  },\n  {\n    \"languageCode\": \"ka_GE\",\n    \"languageName\": \"Georgian\",\n    \"languageNativeName\": \"ქართული\",\n    \"translationRatio\": 0.05355120530658475\n  },\n  {\n    \"languageCode\": \"km_KH\",\n    \"languageName\": \"Khmer\",\n    \"languageNativeName\": \"ខេមរភាសា\",\n    \"translationRatio\": 0.02070862320012945\n  },\n  {\n    \"languageCode\": \"ko_KR\",\n    \"languageName\": \"Korean\",\n    \"languageNativeName\": \"한국어\",\n    \"translationRatio\": 0.6037857951787737\n  },\n  {\n    \"languageCode\": \"lt_LT\",\n    \"languageName\": \"Lithuanian\",\n    \"languageNativeName\": \"lietuvių kalba\",\n    \"translationRatio\": 0.04643261608154026\n  },\n  {\n    \"languageCode\": \"lv_LV\",\n    \"languageName\": \"Latvian\",\n    \"languageNativeName\": \"latviešu valoda\",\n    \"translationRatio\": 0.014884322925093008\n  },\n  {\n    \"languageCode\": \"mr_IN\",\n    \"languageName\": \"Marathi\",\n    \"languageNativeName\": \"मराठी\",\n    \"translationRatio\": 0.03332794046270826\n  },\n  {\n    \"languageCode\": \"ms_MY\",\n    \"languageName\": \"Malay\",\n    \"languageNativeName\": \"Bahasa Malaysia\",\n    \"translationRatio\": 0.04271153535026695\n  },\n  {\n    \"languageCode\": \"my_MM\",\n    \"languageName\": \"Burmese\",\n    \"languageNativeName\": \"ဗမာစာ\",\n    \"translationRatio\": 0.01520789516259502\n  },\n  {\n    \"languageCode\": \"nl_NL\",\n    \"languageName\": \"Dutch\",\n    \"languageNativeName\": \"Nederlands\",\n    \"translationRatio\": 0.3054521922019091\n  },\n  {\n    \"languageCode\": \"no_NO\",\n    \"languageName\": \"Norwegian\",\n    \"languageNativeName\": \"Norsk\",\n    \"translationRatio\": 0.173111147063582\n  },\n  {\n    \"languageCode\": \"pl_PL\",\n    \"languageName\": \"Polish\",\n    \"languageNativeName\": \"język polski\",\n    \"translationRatio\": 0.7437307878983983\n  },\n  {\n    \"languageCode\": \"pseudo_LOCALE\",\n    \"languageName\": \"for development only\",\n    \"languageNativeName\": \"Pseudolocalization\",\n    \"translationRatio\": 0.9966024915062288\n  },\n  {\n    \"languageCode\": \"pt_BR\",\n    \"languageName\": \"Brazilian Portuguese\",\n    \"languageNativeName\": \"Português brasileiro\",\n    \"translationRatio\": 0.9720110014560751\n  },\n  {\n    \"languageCode\": \"pt_PT\",\n    \"languageName\": \"Portuguese\",\n    \"languageNativeName\": \"Português\",\n    \"translationRatio\": 0.42387963112764926\n  },\n  {\n    \"languageCode\": \"ro_RO\",\n    \"languageName\": \"Romanian\",\n    \"languageNativeName\": \"Română\",\n    \"translationRatio\": 0.07474518686296716\n  },\n  {\n    \"languageCode\": \"ru_RU\",\n    \"languageName\": \"Russian\",\n    \"languageNativeName\": \"Русский\",\n    \"translationRatio\": 0.9139297848244621\n  },\n  {\n    \"languageCode\": \"si_LK\",\n    \"languageName\": \"Sinhala\",\n    \"languageNativeName\": \"සිංහල\",\n    \"translationRatio\": 0.9765410127811034\n  },\n  {\n    \"languageCode\": \"sk_SK\",\n    \"languageName\": \"Slovak\",\n    \"languageNativeName\": \"slovenčina\",\n    \"translationRatio\": 0.22552984953890953\n  },\n  {\n    \"languageCode\": \"sl_SI\",\n    \"languageName\": \"Slovene\",\n    \"languageNativeName\": \"slovenski jezik\",\n    \"translationRatio\": 0.9923960524187024\n  },\n  {\n    \"languageCode\": \"sq_AL\",\n    \"languageName\": \"Albanian\",\n    \"languageNativeName\": \"Shqip\",\n    \"translationRatio\": 0.20045300113250286\n  },\n  {\n    \"languageCode\": \"sr_CS\",\n    \"languageName\": \"Serbian (Latin)\",\n    \"languageNativeName\": \"srpski\",\n    \"translationRatio\": 0.20724801812004534\n  },\n  {\n    \"languageCode\": \"sr_SP\",\n    \"languageName\": \"Serbian\",\n    \"languageNativeName\": \"српски језик\",\n    \"translationRatio\": 0.43504287332146907\n  },\n  {\n    \"languageCode\": \"sv_SE\",\n    \"languageName\": \"Swedish\",\n    \"languageNativeName\": \"svenska\",\n    \"translationRatio\": 0.19640834816372754\n  },\n  {\n    \"languageCode\": \"th_TH\",\n    \"languageName\": \"Thai\",\n    \"languageNativeName\": \"ไทย\",\n    \"translationRatio\": 0.049182980100307416\n  },\n  {\n    \"languageCode\": \"tr_TR\",\n    \"languageName\": \"Turkish\",\n    \"languageNativeName\": \"Türkçe\",\n    \"translationRatio\": 0.9901310467561883\n  },\n  {\n    \"languageCode\": \"uk_UA\",\n    \"languageName\": \"Ukrainian\",\n    \"languageNativeName\": \"Українська\",\n    \"translationRatio\": 0.8686296715741789\n  },\n  {\n    \"languageCode\": \"ur_PK\",\n    \"languageName\": \"Urdu\",\n    \"languageNativeName\": \"اردو\",\n    \"translationRatio\": 0.02232648438763951\n  },\n  {\n    \"languageCode\": \"uz_UZ\",\n    \"languageName\": \"Uzbek\",\n    \"languageNativeName\": \"Ўзбек\",\n    \"translationRatio\": 0.021517553793884536\n  },\n  {\n    \"languageCode\": \"vi_VN\",\n    \"languageName\": \"Vietnamese\",\n    \"languageNativeName\": \"Tiếng Việt\",\n    \"translationRatio\": 0.05662514156285392\n  },\n  {\n    \"languageCode\": \"yo_NG\",\n    \"languageName\": \"Yoruba\",\n    \"languageNativeName\": \"Yorùbá\",\n    \"translationRatio\": 0.4077010192525481\n  },\n  {\n    \"languageCode\": \"zh_CN\",\n    \"languageName\": \"Chinese Simplified\",\n    \"languageNativeName\": \"简化字\",\n    \"translationRatio\": 0.9919106940624495\n  },\n  {\n    \"languageCode\": \"zh_TW\",\n    \"languageName\": \"Chinese Traditional\",\n    \"languageNativeName\": \"正體字\",\n    \"translationRatio\": 0.2565927843391037\n  }\n];\n","// @flow\nimport * as React from 'react';\nimport Button from '@material-ui/core/Button';\nimport { type ButtonInterface } from './Button';\nimport { Spacer } from './Grid';\n\n// We support a subset of the props supported by Material-UI v0.x FlatButton\n// They should be self descriptive - refer to Material UI docs otherwise.\ntype Props = {|\n  label: React.Node,\n  onClick: ?(ev: any) => void | Promise<void>,\n  primary?: boolean,\n  disabled?: boolean,\n  keyboardFocused?: boolean,\n  fullWidth?: boolean,\n  leftIcon?: React.Node,\n  rightIcon?: React.Node,\n  style?: {|\n    marginTop?: number,\n    marginBottom?: number,\n    marginLeft?: number,\n    marginRight?: number,\n    margin?: number,\n    flexShrink?: 0,\n  |},\n  target?: '_blank',\n  id?: ?string,\n|};\n\n/**\n * A \"outlined\" button based on Material-UI button.\n */\nconst FlatButton = React.forwardRef<Props, ButtonInterface>(\n  (\n    {\n      label,\n      primary,\n      leftIcon,\n      rightIcon,\n      keyboardFocused,\n      disabled,\n      id,\n      ...otherProps\n    }: Props,\n    ref\n  ) => {\n    // In theory, focus ripple is only shown after a keyboard interaction\n    // (see https://github.com/mui-org/material-ui/issues/12067). However, as\n    // it's important to get focus right in the whole app, make the ripple\n    // always visible to be sure we're getting focusing right.\n    const focusRipple = true;\n\n    return (\n      <Button\n        variant=\"outlined\"\n        size=\"small\"\n        color={primary ? 'secondary' : 'default'}\n        autoFocus={keyboardFocused}\n        focusRipple={focusRipple}\n        disabled={disabled}\n        id={id}\n        {...otherProps}\n        ref={ref}\n      >\n        {leftIcon}\n        {leftIcon && <Spacer />}\n        {label}\n        {rightIcon && <Spacer />}\n        {rightIcon}\n      </Button>\n    );\n  }\n);\n\nexport default FlatButton;\n","// @flow\nimport * as React from 'react';\nimport Button from '@material-ui/core/Button';\nimport { type ButtonInterface } from './Button';\nimport { Spacer } from './Grid';\n\n// We support a subset of the props supported by Material-UI v0.x RaisedButton\n// They should be self descriptive - refer to Material UI docs otherwise.\nexport type RaisedButtonPropsWithoutOnClick = {|\n  label?: React.Node,\n  primary?: boolean,\n  disabled?: boolean,\n  fullWidth?: boolean,\n  icon?: React.Node,\n  style?: {|\n    marginTop?: number,\n    marginBottom?: number,\n    marginLeft?: number,\n    marginRight?: number,\n    margin?: number,\n    flexShrink?: 0,\n  |},\n  id?: string,\n|};\n\ntype Props = {|\n  ...RaisedButtonPropsWithoutOnClick,\n  onClick: ?() => void | Promise<void>,\n|};\n\n/**\n * A raised button based on Material-UI button.\n */\nconst RaisedButton = React.forwardRef<Props, ButtonInterface>(\n  ({ label, primary, icon, ...otherProps }: Props, ref) => {\n    // In theory, focus ripple is only shown after a keyboard interaction\n    // (see https://github.com/mui-org/material-ui/issues/12067). However, as\n    // it's important to get focus right in the whole app, make the ripple\n    // always visible to be sure we're getting focusing right.\n    const focusRipple = true;\n\n    return (\n      <Button\n        variant=\"contained\"\n        size=\"small\"\n        disableElevation\n        color={primary ? 'primary' : 'default'}\n        focusRipple={focusRipple}\n        {...otherProps}\n        ref={ref}\n      >\n        {icon}\n        {!!icon && !!label && <Spacer />}\n        {label}\n      </Button>\n    );\n  }\n);\n\nexport default RaisedButton;\n","// @flow\nimport * as React from 'react';\nimport { type GDevelopTheme } from '.';\nimport DefaultLightTheme from './DefaultLightTheme';\n\nconst GDevelopThemeContext = React.createContext<GDevelopTheme>(\n  DefaultLightTheme.gdevelopTheme\n);\n\nexport default GDevelopThemeContext;\n","// @flow\nimport * as React from 'react';\n\nexport default function useForceUpdate() {\n  const [, updateState] = React.useState();\n  const forceUpdate = React.useCallback(() => updateState({}), []);\n\n  return forceUpdate;\n}\n","// @flow\nimport * as React from 'react';\nimport ReactMarkdown from 'react-markdown';\nimport { I18n } from '@lingui/react';\nimport { type MessageDescriptor } from '../Utils/i18n/MessageDescriptor.flow';\nimport ThemeContext from './Theme/ThemeContext';\nimport classNames from 'classnames';\n\n// Sensible defaults for react-markdown\nconst makeMarkdownCustomRenderers = (\n  isStandaloneText: boolean,\n  allowParagraphs: boolean\n) => ({\n  // Ensure link are opened in a new page\n  root: props => (isStandaloneText ? <div {...props} /> : <span {...props} />),\n  link: props =>\n    props.href ? (\n      <a href={props.href} target=\"_blank\" rel=\"noopener noreferrer\">\n        {props.children}\n      </a>\n    ) : (\n      props.children\n    ),\n  linkReference: props =>\n    props.href ? (\n      <a href={props.href} target=\"_blank\" rel=\"noopener noreferrer\">\n        {props.children}\n      </a>\n    ) : (\n      props.children\n    ),\n  // Add paragraphs only if we explictly opt in.\n  paragraph: props =>\n    isStandaloneText || allowParagraphs ? (\n      <p>{props.children}</p>\n    ) : (\n      props.children\n    ),\n});\n\ntype Props = {|\n  source?: string,\n  translatableSource?: MessageDescriptor,\n  isStandaloneText?: boolean,\n  allowParagraphs?: boolean,\n|};\n\n/**\n * Display a markdown text\n */\nexport const MarkdownText = (props: Props) => {\n  const gdevelopTheme = React.useContext(ThemeContext);\n  const markdownCustomRenderers = React.useMemo(\n    () =>\n      makeMarkdownCustomRenderers(\n        props.isStandaloneText || false,\n        props.allowParagraphs || false\n      ),\n    [props.isStandaloneText, props.allowParagraphs]\n  );\n\n  return (\n    <I18n>\n      {({ i18n }) => (\n        <ReactMarkdown\n          escapeHtml\n          source={\n            props.translatableSource\n              ? i18n._(props.translatableSource)\n              : props.source\n          }\n          className={classNames({\n            'gd-markdown': true,\n            [gdevelopTheme.markdownRootClassName]: true,\n            'standalone-text-container': props.isStandaloneText,\n          })}\n          renderers={markdownCustomRenderers}\n        />\n      )}\n    </I18n>\n  );\n};\n","// @flow\nimport optionalRequire from './OptionalRequire';\nconst remote = optionalRequire('@electron/remote');\nconst process = optionalRequire('process');\n\nlet _isWindows = false;\nif (remote) {\n  _isWindows = remote.require('electron-is').windows();\n}\nconst _isMacLike =\n  typeof navigator !== 'undefined' &&\n  navigator.platform.match(/(Mac|iPhone|iPod|iPad)/i)\n    ? true\n    : false;\n\nconst _isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(\n  typeof navigator !== 'undefined' ? navigator.userAgent : ''\n);\n\nexport const getUserAgent = (): string => {\n  return typeof navigator !== 'undefined'\n    ? navigator.userAgent || 'Unknown navigator'\n    : 'Unknown (not a navigator)';\n};\n\nexport const getArch = (): string => {\n  return process\n    ? process.arch || 'Unknown architecture'\n    : 'Unknown architecture (web-app)';\n};\n\nexport const getSystemVersion = (): string => {\n  return process && process.getSystemVersion\n    ? process.getSystemVersion() || 'Unknown system version'\n    : 'Unknown system version (web-app)';\n};\n\nexport const getPlatformName = (): string => {\n  return process\n    ? process.platform || 'Unknown platform'\n    : (typeof navigator !== 'undefined' ? navigator.platform : '') ||\n        'Unknown platform (web-app)';\n};\n\nexport const isWindows = () => _isWindows;\nexport const isMacLike = () => _isMacLike;\nexport const isMobile = () => _isMobile;\n","// @flow\nimport { type CommandName } from '../CommandPalette/CommandsList';\n\nexport type ShortcutMap = { [CommandName]: string };\n\nconst defaultShortcuts: ShortcutMap = {\n  QUIT_APP: 'CmdOrCtrl+Shift+KeyQ',\n  OPEN_PROJECT_MANAGER: 'CmdOrCtrl+Alt+KeyE',\n  LAUNCH_NEW_PREVIEW: 'F4',\n  LAUNCH_DEBUG_PREVIEW: 'F6',\n  HOT_RELOAD_PREVIEW: 'F5',\n  LAUNCH_NETWORK_PREVIEW: 'F8',\n  OPEN_HOME_PAGE: '',\n  CREATE_NEW_PROJECT: 'CmdOrCtrl+Alt+KeyN',\n  OPEN_PROJECT: 'CmdOrCtrl+KeyO',\n  SAVE_PROJECT: 'CmdOrCtrl+KeyS',\n  SAVE_PROJECT_AS: 'CmdOrCtrl+Shift+KeyS',\n  CLOSE_PROJECT: 'CmdOrCtrl+KeyQ',\n  EXPORT_GAME: 'CmdOrCtrl+Shift+KeyE',\n  OPEN_RECENT_PROJECT: '',\n  OPEN_COMMAND_PALETTE: 'CmdOrCtrl+KeyP',\n\n  OPEN_PROJECT_PROPERTIES: '',\n  OPEN_PROJECT_LOADING_SCREEN: '',\n  OPEN_PROJECT_VARIABLES: '',\n  OPEN_PLATFORM_SPECIFIC_ASSETS_DIALOG: '',\n  OPEN_PROJECT_RESOURCES: '',\n\n  OPEN_LAYOUT: 'Alt+KeyS',\n  OPEN_EXTERNAL_EVENTS: 'Alt+KeyV',\n  OPEN_EXTERNAL_LAYOUT: 'Alt+KeyW',\n  OPEN_EXTENSION: 'Alt+KeyE',\n\n  OPEN_SCENE_PROPERTIES: 'KeyS',\n  OPEN_SCENE_VARIABLES: 'KeyV',\n\n  OPEN_OBJECTS_PANEL: 'KeyO',\n  OPEN_OBJECT_GROUPS_PANEL: 'KeyG',\n  OPEN_PROPERTIES_PANEL: 'KeyP',\n  TOGGLE_INSTANCES_PANEL: 'KeyI',\n  TOGGLE_LAYERS_PANEL: 'KeyL',\n  TOGGLE_WINDOW_MASK: 'KeyM',\n  TOGGLE_GRID: 'Alt+KeyG',\n  OPEN_SETUP_GRID: 'CmdOrCtrl+Shift+KeyG',\n  EDIT_LAYER_EFFECTS: 'KeyE',\n  EDIT_LAYER: 'KeyT',\n  EDIT_OBJECT: 'Shift+KeyE',\n  EDIT_OBJECT_VARIABLES: 'Shift+KeyV',\n  EDIT_OBJECT_GROUP: 'Shift+KeyG',\n\n  ADD_STANDARD_EVENT: 'Shift+KeyA',\n  ADD_SUBEVENT: 'Shift+KeyD',\n  ADD_COMMENT_EVENT: '',\n  TOGGLE_EVENT_DISABLED: 'KeyD',\n  CHOOSE_AND_ADD_EVENT: 'Shift+KeyW',\n  OPEN_EXTENSION_SETTINGS: '',\n};\n\nexport default defaultShortcuts;\n","// @flow\n\n/**\n * Load a script from the specified source. The returned promise\n * resolves when the script is loaded.\n * @param source The script source\n */\nexport const loadScript = (source: string): Promise<void> => {\n  return new Promise((resolve, reject) => {\n    if (typeof document === 'undefined') {\n      reject(\n        new Error('loadScript is only supported in a browser environment.')\n      );\n      return;\n    }\n\n    const { body } = document;\n    if (!body) {\n      reject(\n        new Error('loadScript is only supported in a browser environment.')\n      );\n      return;\n    }\n\n    const scriptElement = document.createElement('script');\n    scriptElement.type = 'text/javascript';\n    scriptElement.src = source;\n    scriptElement.onload = () => resolve();\n    scriptElement.onerror = error => reject(error);\n    scriptElement.onabort = error => reject(error);\n\n    body.appendChild(scriptElement);\n  });\n};\n","// @flow\n\nconst rtlLanguages = new Set([\n  // Hebrew scripts:\n  'he_IL' /* Hebrew */,\n\n  // Arabic scripts:\n  'ar_SA' /* Arabic */,\n  'az_AZ' /* Azerbaijani */,\n  'ms_MY' /* Malay */,\n  'fa_IR' /* Persian */,\n  'ur_PK' /* Urdu */,\n]);\n\nexport function isLtr(name: string): boolean {\n  return !rtlLanguages.has(name);\n}\n\n// TODO: Implement full support of RTL languages by adding dir=\"ltr\"\n// to the `body` element. Doing so will revert most layouts in the app,\n// which is fine. There are a few things to take care of:\n// - ImagePreview (already fixed),\n// - TextFieldWithButtonLayout (margins on the button),\n// - ColorField (margins/positioning off the button),\n// - EditorMosaic (i.e: react-mosaic) has issues with the positioning of the resize handles,\n// - and anything else using absolute positioning.\n","// @flow\n\nexport default function memoize<Input, Output>(\n  func: Input => Output\n): Input => Output {\n  const primitives = new Map<Input, Output>();\n  // $FlowFixMe - WeakMap is only used when Input is an object.\n  const objects = new WeakMap<Input, Output>();\n\n  function cacheFor(input: Input) {\n    const isObject = typeof input === 'object';\n    return isObject ? objects : primitives;\n  }\n\n  return (input: Input): Output => {\n    const cache = cacheFor(input);\n    const cachedValue = cache.get(input);\n    if (cachedValue) return cachedValue;\n\n    const value = func(input);\n    cache.set(input, value);\n    return value;\n  };\n}\n","import { createGdevelopTheme } from '../CreateTheme';\n\nimport styles from './DefaultDarkThemeVariables.json';\nimport './DefaultDarkThemeVariables.css';\n\nexport default createGdevelopTheme({\n  styles,\n\n  rootClassNameIdentifier: 'DefaultDarkTheme',\n  paletteType: 'dark',\n});\n","import { createGdevelopTheme } from '../CreateTheme';\n\nimport styles from './BlueDarkThemeVariables.json';\nimport './BlueDarkThemeVariables.css';\n\nexport default createGdevelopTheme({\n  styles,\n\n  rootClassNameIdentifier: 'BlueDarkTheme',\n  paletteType: 'dark',\n});\n","import { createGdevelopTheme } from '../CreateTheme';\n\nimport styles from './NordThemeVariables.json';\nimport './NordThemeVariables.css';\n\nexport default createGdevelopTheme({\n  styles,\n\n  rootClassNameIdentifier: 'NordTheme',\n  paletteType: 'dark',\n  gdevelopIconsCSSFilter: 'hue-rotate(-15deg) saturate(57%) brightness(120%)',\n});\n","import { createGdevelopTheme } from '../CreateTheme';\n\nimport styles from './SolarizedDarkThemeVariables';\nimport './SolarizedDarkThemeVariables.css';\n\nexport default createGdevelopTheme({\n  styles,\n\n  rootClassNameIdentifier: 'SolarizedDarkTheme',\n  paletteType: 'dark',\n  gdevelopIconsCSSFilter: 'hue-rotate(-15deg) saturate(70%) brightness(90%)',\n});\n","import { createGdevelopTheme } from '../CreateTheme';\n\nimport styles from './OneDarkThemeVariables.json';\nimport './OneDarkThemeVariables.css';\n\nexport default createGdevelopTheme({\n  styles,\n\n  rootClassNameIdentifier: 'OneDarkTheme',\n  paletteType: 'dark',\n  gdevelopIconsCSSFilter: 'hue-rotate(-10deg) saturate(50%)',\n});\n","import { createGdevelopTheme } from '../CreateTheme';\n\nimport styles from './RosePineThemeVariables.json';\nimport './RosePineThemeVariables.css';\n\nexport default createGdevelopTheme({\n  styles,\n  rootClassNameIdentifier: 'RosePineTheme',\n  paletteType: 'dark',\n  gdevelopIconsCSSFilter: 'hue-rotate(75deg) saturate(50%) brightness(100%)',\n});\n","// This file is generated by create-new-theme.js script\nimport DefaultDarkTheme from './DefaultDarkTheme';\nimport DefaultLightTheme from './DefaultLightTheme';\nimport BlueDarkTheme from './BlueDarkTheme';\nimport NordTheme from './NordTheme';\nimport SolarizedDarkTheme from './SolarizedDarkTheme';\nimport OneDarkTheme from './OneDarkTheme';\nimport RosePineTheme from './RosePineTheme';\n\n/*eslint no-useless-computed-key: \"off\"*/\nexport const themes = {\n  ['GDevelop default Dark']: DefaultDarkTheme,\n  ['GDevelop default Light']: DefaultLightTheme,\n  ['Blue Dark']: BlueDarkTheme,\n  ['Nord']: NordTheme,\n  ['Solarized Dark']: SolarizedDarkTheme,\n  ['One Dark']: OneDarkTheme,\n  ['Rosé Pine']: RosePineTheme,\n};\n","// @flow\nimport { createMuiTheme } from '@material-ui/core/styles';\nimport { isLtr } from '../../Utils/i18n/RtlLanguages';\nimport memoize from '../../Utils/Memoize';\n\nimport DefaultLightTheme from './DefaultLightTheme';\nimport { themes } from './ThemeRegistry';\n\nimport 'react-virtualized/styles.css';\n// Styles\nimport './Global/Animation.css';\nimport './Global/EventsSheet.css';\nimport './Global/Markdown.css';\nimport './Global/Scrollbar.css';\nimport './Global/Mosaic.css';\nimport './Global/Table.css';\nimport './Global/Font.css';\n\nexport { themes } from './ThemeRegistry';\n\nexport type Theme = $Exact<typeof DefaultLightTheme>;\n\nexport type GDevelopTheme = $PropertyType<Theme, 'gdevelopTheme'>;\ntype ActualTheme = {| gdevelopTheme: GDevelopTheme, muiTheme: Object |};\ntype MuiThemeOptions = $PropertyType<Theme, 'muiThemeOptions'>;\nconst defaultThemeName = 'GDevelop default Dark';\n\nexport function getTheme({\n  themeName,\n  language,\n}: {|\n  themeName: string,\n  language: string,\n|}): ActualTheme {\n  let theme: Theme = themes[themeName];\n\n  if (!theme) {\n    console.warn(\n      `Theme '${themeName}' is unavailable; '${defaultThemeName}' is used`\n    );\n    theme = themes[defaultThemeName];\n  }\n\n  const ltr = isLtr(language);\n  const { gdevelopTheme, muiThemeOptions } = theme;\n  return {\n    gdevelopTheme,\n    muiTheme: ltr\n      ? createLtrTheme(muiThemeOptions)\n      : createRtlTheme(muiThemeOptions),\n  };\n}\n\nconst createLtrTheme = memoize(\n  (muiThemeOptions: MuiThemeOptions): Object => {\n    return createMuiTheme(muiThemeOptions);\n  }\n);\n\nconst createRtlTheme = memoize(\n  (muiThemeOptions: MuiThemeOptions): Object => {\n    return createMuiTheme(muiThemeOptions, { overrides: rtlOverrides });\n  }\n);\n\nconst rtlDirection = { direction: 'rtl' };\nconst rtlOrder = { order: 100 };\nconst rtlOverrides = {\n  MuiTypography: {\n    root: rtlDirection,\n  },\n  MuiInput: {\n    root: rtlDirection,\n  },\n  MuiTab: {\n    root: rtlDirection,\n  },\n  MuiButton: {\n    label: rtlDirection,\n  },\n  MuiSvgIcon: {\n    root: rtlOrder,\n  },\n  MuiFormControlLabel: {\n    root: rtlDirection,\n  },\n  MuiTextField: {\n    root: rtlDirection,\n  },\n};\n\nexport const defaultTheme: ActualTheme = {\n  ...DefaultLightTheme,\n  muiThemeOptions: createLtrTheme(DefaultLightTheme.muiThemeOptions),\n};\n","// @flow\ntype RawStepMeasure = [string, number];\ntype SummarizedStep = {|\n  stepName: string,\n  time: number,\n  elapsedTime: number,\n|};\ntype Summary = {|\n  totalStartupTime: number,\n  steps: Array<SummarizedStep>,\n|};\n\nexport const GD_STARTUP_TIMES: Array<RawStepMeasure> = global.GD_STARTUP_TIMES;\n\nif (!GD_STARTUP_TIMES) {\n  console.error(\n    'Could not find GD_STARTUP_TIMES array. Have you declared it in index.html, in a synchronous script?'\n  );\n}\n\nexport const getStartupTimesSummary = (): Summary => {\n  let previousStep = ['<init>', 0];\n\n  let steps = GD_STARTUP_TIMES.map(step => {\n    const stepSummary = {\n      stepName: step[0],\n      time: step[1],\n      elapsedTime: step[1] - previousStep[1],\n    };\n\n    previousStep = step;\n    return stepSummary;\n  });\n\n  return {\n    steps,\n    totalStartupTime: previousStep[1],\n  };\n};\n","import Raven from 'raven-js';\nimport { getUserUUID } from './UserUUID';\nimport { getIDEVersionWithHash } from '../../Version';\nconst isDev = process.env.NODE_ENV === 'development';\n\nexport const installRaven = () => {\n  if (isDev) return;\n\n  Raven.config('https://e10c176ee68f432199cd292ba181e03b@sentry.io/233519', {\n    release: getIDEVersionWithHash(),\n  })\n    .install()\n    .setUserContext({\n      id: getUserUUID(),\n    });\n};\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nconst PUBLIC_URL = process.env.PUBLIC_URL;\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      console.log(\n        `The origin in PUBLIC_URL (${\n          publicUrl.origin\n        }) is different than the current origin (${\n          window.location.origin\n        }) - Service Worker disabled`\n      );\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  } else {\n    console.log(\n      'Development build (or unsupported browser) - Service Worker disabled'\n    );\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","// @flow\nimport 'element-closest';\nimport React, { Component, type Element } from 'react';\nimport ReactDOM from 'react-dom';\nimport Authentication from './Utils/GDevelopServices/Authentication';\nimport {\n  sendProgramOpening,\n  installAnalyticsEvents,\n} from './Utils/Analytics/EventSender';\nimport { installRaven } from './Utils/Analytics/Raven';\nimport { register } from './serviceWorker';\nimport './UI/icomoon-font.css'; // Styles for Icomoon font.\nimport optionalRequire from './Utils/OptionalRequire';\nimport { loadScript } from './Utils/LoadScript';\nimport { showErrorBox } from './UI/Messages/MessageBox';\nimport VersionMetadata from './Version/VersionMetadata';\nimport { loadPreferencesFromLocalStorage } from './MainFrame/Preferences/PreferencesProvider';\nimport { getTheme } from './UI/Theme';\n\nconst GD_STARTUP_TIMES = global.GD_STARTUP_TIMES || [];\n\n// No i18n in this file\n\nconst electron = optionalRequire('electron');\n\n// Use the user preferred theme to define the loading screen color.\n\nlet color = 'f0f0f0';\n\ntry {\n  const values = loadPreferencesFromLocalStorage();\n  if (values && values.themeName) {\n    const theme = getTheme({\n      themeName: values.themeName,\n      language: 'en', // language is not important here as we only look for a color\n    });\n    color = theme.muiTheme.palette.background.default;\n  }\n} catch {}\n\ndocument.getElementsByTagName('body')[0].style.backgroundColor = color;\n\nconst styles = {\n  loadingMessage: {\n    position: 'absolute',\n    top: 'calc(50% + 80px)',\n    left: 15,\n    right: 15,\n    fontSize: 20,\n    fontFamily: 'sans-serif',\n    color: 'darkgray',\n    textAlign: 'center',\n    animation:\n      'text-focus-in 0.5s cubic-bezier(0.215, 0.610, 0.355, 1.000) both',\n  },\n};\n\ntype State = {|\n  loadingMessage: string,\n  App: ?Element<*>,\n|};\n\nclass Bootstrapper extends Component<{}, State> {\n  state = {\n    loadingMessage: 'Loading the editor...',\n    App: null,\n  };\n  authentication = new Authentication();\n\n  componentDidMount() {\n    installAnalyticsEvents(this.authentication);\n    installRaven();\n    GD_STARTUP_TIMES.push(['bootstrapperComponentDidMount', performance.now()]);\n\n    // Load GDevelop.js, ensuring a new version is fetched when the version changes.\n    loadScript(\n      `./libGD.js?cache-buster=${VersionMetadata.versionWithHash}`\n    ).then(() => {\n      GD_STARTUP_TIMES.push(['libGDLoadedTime', performance.now()]);\n      const initializeGDevelopJs = global.initializeGDevelopJs;\n      if (!initializeGDevelopJs) {\n        this.handleEditorLoadError(\n          new Error('Missing initializeGDevelopJs in libGD.js')\n        );\n        return;\n      }\n\n      initializeGDevelopJs({\n        // Override the resolved URL for the .wasm file,\n        // to ensure a new version is fetched when the version changes.\n        locateFile: (path: string, prefix: string) => {\n          return (\n            prefix + path + `?cache-buster=${VersionMetadata.versionWithHash}`\n          );\n        },\n      }).then(gd => {\n        global.gd = gd;\n        GD_STARTUP_TIMES.push([\n          'libGD.js initialization done',\n          performance.now(),\n        ]);\n        sendProgramOpening();\n\n        if (electron) {\n          import(/* webpackChunkName: \"local-app\" */ './LocalApp')\n            .then(module =>\n              this.setState({\n                App: module.create(this.authentication),\n                loadingMessage: '',\n              })\n            )\n            .catch(this.handleEditorLoadError);\n        } else {\n          import(/* webpackChunkName: \"browser-app\" */ './BrowserApp')\n            .then(module =>\n              this.setState({\n                App: module.create(this.authentication),\n                loadingMessage: '',\n              })\n            )\n            .catch(this.handleEditorLoadError);\n        }\n      });\n    }, this.handleEditorLoadError);\n  }\n\n  handleEditorLoadError = rawError => {\n    const message = !electron\n      ? 'Please check your internet connectivity, close the tab and reopen it.'\n      : 'Please restart the application or reinstall the latest version if the problem persists.';\n\n    this.setState({\n      loadingMessage: `Unable to load GDevelop. ${message}`,\n    });\n    showErrorBox({\n      message: `Unable to load GDevelop. ${message}`,\n      rawError,\n      errorId: 'editor-load-error',\n    });\n  };\n\n  render() {\n    const { App, loadingMessage } = this.state;\n\n    return (\n      <React.Fragment>\n        {App}\n        {loadingMessage && (\n          <div style={styles.loadingMessage}>{loadingMessage}</div>\n        )}\n      </React.Fragment>\n    );\n  }\n}\n\nconst rootElement = document.getElementById('root');\nif (rootElement) {\n  GD_STARTUP_TIMES.push(['reactDOMRenderCall', performance.now()]);\n  ReactDOM.render(<Bootstrapper />, rootElement);\n} else console.error('No root element defined in index.html');\n\n// registerServiceWorker();\nregister();\n","// Note: this file don't use export/imports to allow its usage from Node.js\nconst nodeRequire = require('node-require-function')(); //TODO\n\n/**\n * Allow to require a Node.js/npm module without having it bundled by webpack.\n * This means that this module will only be available when running on Electron or Node.js.\n * When running without Electron or Node.js, `null` will be returned.\n *\n * Note: **in most cases**, prefer `optionalLazyRequire` to avoid loading too many modules\n * at the app startup. Only use optionalRequire for \"well-known\" Node.js modules (fs, path...)\n *\n * @param {string} moduleName The name of the module. For example: `fs`.\n */\nconst optionalRequire = (\n  moduleName,\n  config = {\n    rethrowException: false,\n  }\n) => {\n  try {\n    if (global.require) {\n      // Electron will expose require on global object. Use it, with an\n      // expression to avoid webpack to try to bundle the call to require.\n      return global['require'](moduleName);\n    } else if (nodeRequire) {\n      //Node.js\n      // nodeRequire is Node.js' require function that is properly extracted\n      // by node-require-function when running on Node.js\n      return nodeRequire(moduleName);\n    }\n\n    // We don't have Electron require nor Node.js require (we must be in a browser)\n    return null;\n  } catch (ex) {\n    if (config.rethrowException) throw ex;\n\n    return null;\n  }\n};\n\nmodule.exports = optionalRequire;\n","// @flow\nimport { darken, lighten } from '@material-ui/core/styles';\n\nexport const closeableTabSizeOverrides = {\n  width: 200,\n  height: 32,\n  closeButtonWidth: 24,\n};\n\nexport function getRootClassNames(theme: string) {\n  return {\n    mosaicRootClassName: theme,\n    eventsSheetRootClassName: theme,\n    tableRootClassName: theme,\n    markdownRootClassName: theme,\n  };\n}\n\nexport function getMuiOverrides(\n  tabTextColor: string,\n  tabBackgroundColor: string,\n  inputBorderBottomColor: string,\n  appBarBackgroundColor: string,\n  appBarTextColor: string,\n  iconColor: string,\n  outlinedButtonBorderColor: string,\n  alternateCanvasBackgroundColor: string\n) {\n  return {\n    MuiTypography: {\n      h1: {\n        fontSize: '44px',\n        lineHeight: '56px',\n        fontWeight: 900,\n        letterSpacing: '0.01em',\n      },\n      h2: {\n        fontSize: '33px',\n        lineHeight: '40px',\n        fontWeight: 700,\n      },\n      h3: {\n        fontSize: '25px',\n        lineHeight: '32px',\n        fontWeight: 700,\n      },\n      h4: {\n        fontSize: '19px',\n        lineHeight: '24px',\n        fontWeight: 700,\n        letterSpacing: '0.01em',\n      },\n      h5: {\n        fontSize: '14px',\n        lineHeight: '20px',\n        fontWeight: 700,\n        letterSpacing: '0.02em',\n      },\n      h6: {\n        // Make h6, used in Drawer title bars, use the same weight as tabs and mosaic windows\n        fontWeight: 600,\n      },\n      body1: {\n        fontSize: '14px',\n        lineHeight: '20px',\n        fontWeight: 400,\n        letterSpacing: '0.01em',\n      },\n    },\n    MuiInput: {\n      input: {\n        padding: 0,\n        paddingBottom: 3,\n      },\n      underline: {\n        '&:before': {\n          borderBottom: `1px solid ${inputBorderBottomColor}`,\n        },\n      },\n    },\n    MuiAppBar: {\n      colorPrimary: {\n        // Use some colors as mosaic titles:\n        backgroundColor: appBarBackgroundColor,\n        color: appBarTextColor,\n      },\n    },\n    MuiIconButton: {\n      root: {\n        // Fix color being grey if not set to (almost) black\n        color: iconColor,\n      },\n    },\n    MuiListItemIcon: {\n      root: {\n        // Fix color being grey if not set to (almost) black\n        color: iconColor,\n      },\n    },\n    // Reduce right margins from 16px to 8px in lists:\n    MuiListItem: {\n      secondaryAction: {\n        paddingRight: 40,\n      },\n    },\n    MuiListItemSecondaryAction: {\n      root: {\n        right: 8,\n      },\n    },\n    // Use a more visible color scheme for tabs:\n    MuiTabs: {\n      root: {\n        backgroundColor: tabBackgroundColor,\n        minHeight: 32, // Reduce the height of tabs to 32px\n      },\n    },\n    MuiTab: {\n      textColorPrimary: {\n        color: darken(tabTextColor, 0.2) + ' !important',\n        textTransform: 'none',\n        fontWeight: 600,\n        letterSpacing: '0.3px',\n        '&.Mui-selected': {\n          color: tabTextColor + ' !important',\n        },\n      },\n      root: {\n        // Reduce the height of tabs to 32px\n        paddingTop: 0,\n        paddingBottom: 0,\n        minHeight: 32,\n      },\n    },\n    MuiButtonBase: {\n      // Remove the web-ish \"pointer\" (hand) cursor from buttons\n      root: {\n        cursor: 'default',\n      },\n    },\n    // Reduce default margins on tables:\n    MuiTableCell: {\n      sizeSmall: {\n        paddingTop: 0,\n        paddingBottom: 0,\n      },\n    },\n    // Reduce default margins on Dialogs:\n    MuiDialogTitle: {\n      root: {\n        padding: 8,\n      },\n    },\n    MuiDialogContent: {\n      root: {\n        padding: 8,\n        '&:first-child': {\n          paddingTop: 8,\n        },\n      },\n    },\n    // Remove default margins on form controls (we already use a Grid)\n    MuiFormControl: {\n      marginDense: {\n        marginTop: 0,\n        marginBottom: 0,\n      },\n    },\n    MuiCheckbox: {\n      root: {\n        // Cancel padding around Checkbox\n        marginTop: -9,\n        marginBottom: -9,\n      },\n    },\n    MuiPaper: {\n      rounded: {\n        borderRadius: 8,\n      },\n    },\n    MuiButton: {\n      root: {\n        borderRadius: 8,\n        textTransform: 'none',\n        fontWeight: 600,\n        letterSpacing: '0.3px',\n      },\n      outlined: { borderColor: outlinedButtonBorderColor },\n      outlinedSizeSmall: {\n        fontSize: '12px',\n        fontWeight: 700,\n      },\n      containedSizeSmall: {\n        fontSize: '12px',\n        fontWeight: 700,\n      },\n      textSizeSmall: {\n        fontSize: '12px',\n        fontWeight: 700,\n      },\n    },\n    MuiSvgIcon: {\n      fontSizeSmall: {\n        fontSize: '15px',\n      },\n    },\n    // Make MuiAccordion much more compact than default.\n    // Some (or all) of these styles can be removed on MUIv5,\n    // which introduces `disableGutters` prop for compactness.\n    MuiAccordion: {\n      root: {\n        margin: '5px',\n        '&$expanded': {\n          margin: '5px',\n          '&:first-child': {\n            marginTop: 5,\n          },\n          '&:before': {\n            opacity: 1,\n          },\n        },\n        '&:not(:last-child)': {\n          borderBottom: 0,\n        },\n        '&:before': {\n          display: 'none',\n        },\n      },\n    },\n    MuiAccordionSummary: {\n      root: {\n        '&$expanded': {\n          minHeight: null,\n        },\n      },\n      content: {\n        margin: 0,\n        '&$expanded': {\n          margin: 0,\n        },\n      },\n      expandIcon: {\n        padding: 0,\n      },\n    },\n    MuiAccordionDetails: {\n      root: {\n        padding: 8,\n      },\n    },\n    MuiCardHeader: {\n      root: {\n        padding: 0,\n        flexGrow: 0,\n      },\n    },\n    MuiMenu: {\n      paper: {\n        backgroundColor: alternateCanvasBackgroundColor,\n      },\n    },\n  };\n}\n\nfunction getThemeModeFromMainColor(color: string, contrastText: string) {\n  return {\n    light: lighten(color, 0.05),\n    main: color,\n    dark: darken(color, 0.05),\n    contrastText: contrastText,\n  };\n}\n\nfunction getThemeColors(styles: any) {\n  // If there is no dark variant on the primary color, we consider:\n  // - light and dark variants have to be computed from the main color\n  // - the theme will use Material UI default values for Success, Info, Warning and Error colors.\n  if (!styles['ThemePrimaryDark'])\n    return {\n      primary: getThemeModeFromMainColor(\n        styles['ThemePrimaryColor'],\n        styles['ThemePrimaryTextContrastColor']\n      ),\n      secondary: getThemeModeFromMainColor(\n        styles['ThemeSecondaryColor'],\n        styles['ThemeSecondaryTextContrastColor']\n      ),\n    };\n\n  return {\n    primary: {\n      light: styles['ThemePrimaryLight'],\n      main: styles['ThemePrimaryColor'],\n      dark: styles['ThemePrimaryDark'],\n      contrastText: styles['ThemePrimaryTextContrastColor'],\n    },\n    secondary: {\n      light: styles['ThemeSecondaryLight'],\n      main: styles['ThemeSecondaryColor'],\n      dark: styles['ThemeSecondaryDark'],\n      contrastText: styles['ThemeSecondaryTextContrastColor'],\n    },\n    success: {\n      light: styles['ThemeSuccessLight'],\n      main: styles['ThemeSuccessColor'],\n      dark: styles['ThemeSuccessDark'],\n      contrastText: styles['ThemeSuccessTextContrastColor'],\n    },\n    info: {\n      light: styles['ThemeInfoLight'],\n      main: styles['ThemeInfoColor'],\n      dark: styles['ThemeInfoDark'],\n      contrastText: styles['ThemeInfoTextContrastColor'],\n    },\n    warning: {\n      light: styles['ThemeWarningLight'],\n      main: styles['ThemeWarningColor'],\n      dark: styles['ThemeWarningDark'],\n      contrastText: styles['ThemeWarningTextContrastColor'],\n    },\n    error: {\n      light: styles['ThemeErrorLight'],\n      main: styles['ThemeErrorColor'],\n      dark: styles['ThemeErrorDark'],\n      contrastText: styles['ThemeErrorTextContrastColor'],\n    },\n  };\n}\n\nexport function createGdevelopTheme({\n  styles,\n  rootClassNameIdentifier,\n  paletteType,\n  gdevelopIconsCSSFilter,\n}: {\n  styles: any,\n  rootClassNameIdentifier: string,\n  paletteType: string,\n  gdevelopIconsCSSFilter: ?string,\n}) {\n  return {\n    gdevelopTheme: {\n      palette: {\n        type: paletteType,\n        canvasColor: styles['ThemeSurfaceCanvasBackgroundColor'],\n        primary: styles['ThemePrimaryColor'],\n        secondary: styles['ThemeSecondaryColor'],\n      },\n      message: {\n        warning: styles['ThemeMessageWarningColor'],\n        error: styles['ThemeMessageErrorColor'],\n        valid: styles['ThemeMessageValidColor'],\n      },\n      toolbar: {\n        backgroundColor: styles['ThemeSurfaceWindowBackgroundColor'],\n        separatorColor: styles['ThemeToolbarSeparatorColor'],\n      },\n      text: {\n        highlighted: {\n          backgroundColor: styles['ThemeTextHighlightedBackgroundColor'],\n        },\n      },\n      home: {\n        header: {\n          backgroundColor: styles['ThemeHomeHeaderBackgroundColor'],\n        },\n        separator: {\n          color: styles['ThemeHomeSeparatorColor'],\n        },\n      },\n      dropIndicator: {\n        canDrop: styles['ThemeDropIndicatorCanDropColor'],\n        cannotDrop: styles['ThemeDropIndicatorCannotDropColor'],\n        border: styles['ThemeDropIndicatorBorderColor'],\n      },\n      closableTabs: {\n        fontFamily: styles['GdevelopModernFontFamily'],\n        containerBackgroundColor: styles['ThemeSurfaceWindowBackgroundColor'],\n        backgroundColor: styles['ThemeClosableTabsDefaultBackgroundColor'],\n        textColor: styles['ThemeClosableTabsDefaultColor'],\n        selectedBackgroundColor:\n          styles['ThemeClosableTabsSelectedBackgroundColor'],\n        selectedTextColor: styles['ThemeClosableTabsSelectedColor'],\n        ...closeableTabSizeOverrides,\n      },\n      imageThumbnail: {\n        selectedBorderColor: styles['ThemeSelectionBackgroundColor'],\n      },\n      imagePreview: {\n        backgroundFilter: styles['ThemeImagePreviewBackgroundFilter'],\n        borderColor: styles['ThemeImagePreviewBorderColor'],\n        frameBorderColor: styles['ThemeImagePreviewFrameBorderColor'],\n      },\n      list: {\n        itemsBackgroundColor:\n          styles['ThemeSurfaceAlternateCanvasBackgroundColor'],\n      },\n      searchBar: {\n        backgroundColor: styles['ThemeSurfaceAlternateCanvasBackgroundColor'],\n      },\n      listItem: {\n        groupBackgroundColor: styles['ThemeSurfaceWindowBackgroundColor'],\n        groupTextColor: styles['ThemeListItemGroupTextColor'],\n        deprecatedGroupTextColor:\n          styles['ThemeListItemGroupTextDeprecatedColor'],\n        separatorColor: styles['ThemeListItemSeparatorColor'],\n        selectedBackgroundColor: styles['ThemeSelectionBackgroundColor'],\n        selectedTextColor: styles['ThemeSelectionColor'],\n        rightIconColor: styles['ThemeRightIconColor'],\n        selectedRightIconColor: styles['ThemeRightIconColor'],\n        errorTextColor: styles['ThemeListItemErrorColor'],\n        warningTextColor: styles['ThemeListItemWarningColor'],\n        selectedErrorBackgroundColor: styles['ThemeListItemErrorColor'],\n        selectedWarningBackgroundColor: styles['ThemeListItemWarningColor'],\n      },\n      emptyMessage: {\n        shadowColor: styles['ThemeMessageEmptyShadowColor'],\n      },\n      ...getRootClassNames(rootClassNameIdentifier),\n      logo: {\n        src: 'res/GD-logo-big.png',\n      },\n      gdevelopIconsCSSFilter,\n      chart: {\n        fontFamily: styles['GdevelopModernFontFamily'],\n        tooltipBackgroundColor:\n          styles['ThemeSurfaceAlternateCanvasBackgroundColor'],\n        dataColor1:\n          paletteType === 'dark'\n            ? lighten(styles['ThemePrimaryColor'], 0.3)\n            : styles['ThemePrimaryColor'],\n        textColor: styles['ThemeTextDefaultColor'],\n        gridColor: styles['ThemeTextDisabledColor'],\n      },\n    },\n    muiThemeOptions: {\n      typography: {\n        fontFamily: styles['GdevelopModernFontFamily'],\n      },\n      palette: {\n        type: paletteType,\n        common: {\n          black: styles['ThemePaletteBlack'],\n          white: styles['ThemePaletteWhite'],\n        },\n        background: {\n          paper: styles['ThemeSurfaceCanvasBackgroundColor'],\n          default: styles['ThemeSurfaceWindowBackgroundColor'],\n          alternate: styles['ThemeSurfaceAlternateCanvasBackgroundColor'],\n        },\n        ...getThemeColors(styles),\n        text: {\n          primary: styles['ThemeTextDefaultColor'],\n          secondary: styles['ThemeTextSecondaryColor'],\n          disabled: styles['ThemeTextDisabledColor'],\n          hint: styles['ThemeTextSecondaryColor'],\n        },\n      },\n      overrides: getMuiOverrides(\n        styles['ThemeTextContrastColor'],\n        styles['TabsBackgroundColor'],\n        styles['InputBorderBottomColor'],\n        styles['MosaicToolbarBackgroundColor'],\n        styles['MosaicTitleColor'],\n        styles['ThemeTextDefaultColor'],\n        styles['ThemeTextDefaultColor'],\n        styles['ThemeSurfaceAlternateCanvasBackgroundColor']\n      ),\n    },\n  };\n}\n","// @flow\nimport * as React from 'react';\nexport const marginsSize = 8;\n\n/**\n * A Line in the standard GDevelop grid to position components.\n * Check `Layout` first to see if there is already a layout made\n * specifically for your components (like `TextFieldWithButton`).\n */\nexport const Line = (props: {|\n  children?: React.Node,\n  noMargin?: boolean,\n  alignItems?: string,\n  justifyContent?: string,\n  expand?: boolean,\n  overflow?: string,\n  useFullHeight?: boolean,\n|}) => (\n  <div\n    style={{\n      display: 'flex',\n      marginTop: props.noMargin ? 0 : marginsSize,\n      marginBottom: props.noMargin ? 0 : marginsSize,\n      alignItems: props.alignItems,\n      justifyContent: props.justifyContent,\n      flex: props.expand ? 1 : undefined,\n      overflow: props.overflow,\n      // Setting the min-height to 0 forces the flex to use\n      // all the height (if set to flex: 1) and to *not* grow\n      // larger than the parent.\n      minHeight: props.useFullHeight ? '0' : undefined,\n    }}\n  >\n    {props.children}\n  </div>\n);\n\n/**\n * A Column in the standard GDevelop grid to position components.\n * Check `Layout` first to see if there is already a layout made\n * specifically for your components (like `TextFieldWithButton`).\n */\nexport const Column = (props: {|\n  children?: React.Node,\n  noMargin?: boolean,\n  alignItems?: string,\n  justifyContent?: string,\n  expand?: boolean,\n  useFullHeight?: boolean,\n  noOverflowParent?: boolean,\n|}) => (\n  <div\n    style={{\n      display: 'flex',\n      marginLeft: props.noMargin ? 0 : marginsSize,\n      marginRight: props.noMargin ? 0 : marginsSize,\n      flexDirection: 'column',\n      alignItems: props.alignItems || 'stretch',\n      justifyContent: props.justifyContent,\n      flex: props.expand ? 1 : undefined,\n      // Setting the min-height to 0 forces the flex to use\n      // all the height (if set to flex: 1) and to *not* grow\n      // larger than the parent.\n      minHeight: props.useFullHeight ? '0' : undefined,\n      // In some cases, if some flex children cannot contract to\n      // within `Column`, it is possible for Column to overflow\n      // outside its parent. Setting min-width to 0 avoids this.\n      // See: https://stackoverflow.com/a/36247448/6199068\n      minWidth: props.noOverflowParent ? 0 : undefined,\n    }}\n  >\n    {props.children}\n  </div>\n);\n\n/**\n * A Spacer in the standard GDevelop grid to position components.\n * Check `Layout` first to see if there is already a layout made\n * specifically for your components (like `TextFieldWithButton`).\n */\nexport const Spacer = () => (\n  <span\n    style={{\n      width: marginsSize,\n      height: marginsSize,\n      flexShrink: 0, // Ensure the spacer is not shrinked when in a flex container\n    }}\n  />\n);\n\n/** A large spacer that is 24px width. */\nexport const LargeSpacer = () => (\n  <span\n    style={{\n      width: 24,\n      height: 24,\n      flexShrink: 0, // Ensure the spacer is not shrinked when in a flex container\n    }}\n  />\n);\n","// @flow\n\nimport optionalRequire from './OptionalRequire';\nimport URLSearchParams from 'url-search-params';\nimport { isWindows } from './Platform';\nconst electron = optionalRequire('electron');\nconst remote = optionalRequire('@electron/remote');\nconst shell = electron ? electron.shell : null;\nconst dialog = remote ? remote.dialog : null;\n\nexport type AppArguments = { [string]: any };\ntype YesNoCancelDialogChoice = 'yes' | 'no' | 'cancel';\n\n/**\n * The name of the key, in AppArguments, containing the array of\n * positional arguments (i.e: `[\"file1\", \"file2\"]` in `ls file1 file2`).\n */\nexport const POSITIONAL_ARGUMENTS_KEY = '_';\n\nlet currentTitleBarColor: ?string = null;\n\n/**\n * Various utilities related to the app window management.\n */\nexport default class Window {\n  static setTitle(title: string) {\n    if (remote) {\n      try {\n        const browserWindow = remote.getCurrentWindow();\n        browserWindow.setTitle(title);\n      } catch (err) {\n        // This rarely, but sometimes happen that setTitle throw.\n        // Catch the error in the hope that things will continue to work.\n        console.error(\n          'Caught an error while calling browserWindow.setTitle',\n          err\n        );\n      }\n    } else {\n      document.title = title;\n    }\n  }\n\n  static setTitleBarColor(newColor: string) {\n    if (electron) {\n      // Nothing to do, the title bar is using the system window management.\n      return;\n    }\n\n    if (currentTitleBarColor === newColor) {\n      // Avoid potentially expensive DOM query/modification if no changes needed.\n      return;\n    }\n\n    const metaElement = document.querySelector('meta[name=\"theme-color\"]');\n    if (metaElement) {\n      metaElement.setAttribute('content', newColor);\n      currentTitleBarColor = newColor;\n    }\n  }\n\n  static setBounds(x: number, y: number, width: number, height: number) {\n    if (!remote) return;\n\n    let scaleFactor = 1;\n    if (isWindows()) {\n      // setBounds need to be called with the scale factor of the screen\n      // on Windows.\n      const rect = { x, y, width, height };\n      const display = remote.screen.getDisplayMatching(rect);\n      scaleFactor = display.scaleFactor;\n    }\n\n    const browserWindow = remote.getCurrentWindow();\n    try {\n      browserWindow.setBounds({\n        x: Math.round(x / scaleFactor),\n        y: Math.round(y / scaleFactor),\n        width: Math.round(width / scaleFactor),\n        height: Math.round(height / scaleFactor),\n      });\n    } catch (err) {\n      console.warn('Unable to change window bounds', err);\n    }\n    this.show();\n  }\n\n  static quit() {\n    if (!remote) return;\n\n    const electronApp = remote.app;\n    electronApp.quit();\n  }\n\n  static show() {\n    if (!remote) return;\n\n    const browserWindow = remote.getCurrentWindow();\n    browserWindow.showInactive();\n    browserWindow.setAlwaysOnTop(true);\n  }\n\n  static hide(forceHide: boolean = false) {\n    if (!remote) return;\n\n    const browserWindow = remote.getCurrentWindow();\n    if (!browserWindow.isFocused() || forceHide) {\n      browserWindow.setAlwaysOnTop(false);\n      browserWindow.hide();\n    }\n  }\n\n  static onFocus(cb: () => void) {\n    if (!remote) return;\n\n    return remote.getCurrentWindow().on('focus', cb);\n  }\n\n  static onBlur(cb: () => void) {\n    if (!remote) return;\n\n    return remote.getCurrentWindow().on('blur', cb);\n  }\n\n  static onClose(cb: () => void) {\n    if (!remote) return;\n\n    return remote.getCurrentWindow().on('close', cb);\n  }\n\n  /**\n   * Return the arguments passed to the IDE, either from Electron\n   * or from the web-app URL. The resulting object will have a key \"_\"\n   * containing an array of string, representing all the arguments that\n   * didn't have an option associated with them (see https://github.com/substack/minimist).\n   * (On the web-app, this is emulated using the \"project\" argument).\n   */\n  static getArguments(): AppArguments {\n    if (remote) {\n      return remote.getGlobal('args');\n    }\n\n    const argumentsObject = {};\n    const params = new URLSearchParams(window.location.search);\n    params.forEach((value, name) => (argumentsObject[name] = value));\n\n    // Emulate the minimist behavior of putting the positional arguments\n    // in \"_\".\n    argumentsObject[POSITIONAL_ARGUMENTS_KEY] = argumentsObject.project\n      ? [argumentsObject.project]\n      : [];\n\n    return argumentsObject;\n  }\n\n  static showMessageBox(\n    message: string,\n    type?: 'none' | 'info' | 'error' | 'question' | 'warning'\n  ) {\n    if (!dialog || !electron) {\n      alert(message);\n      return;\n    }\n\n    const browserWindow = remote.getCurrentWindow();\n    dialog.showMessageBoxSync(browserWindow, {\n      message,\n      type,\n      buttons: ['OK'],\n    });\n  }\n\n  static showYesNoCancelDialog(\n    message: string,\n    type?: 'none' | 'info' | 'error' | 'question' | 'warning'\n  ): YesNoCancelDialogChoice {\n    if (!dialog || !electron) {\n      // TODO: Find a way to display an alert with 3 buttons (not possible with the 3 native js method confirm, alert and prompt)\n      // eslint-disable-next-line\n      const answer = confirm(message);\n      if (answer) return 'yes';\n      return 'no';\n    }\n\n    const browserWindow = remote.getCurrentWindow();\n    const answer = dialog.showMessageBoxSync(browserWindow, {\n      message,\n      type,\n      cancelId: 1,\n      buttons: ['Yes', 'Cancel', 'No'], // TODO: Check on Windows and Linux how these buttons are displayed.\n      // On Mac, they are displayed vertically in the order Yes, No and Cancel from top to bottom.\n    });\n    switch (answer) {\n      case 0:\n        return 'yes';\n      case 1:\n        return 'cancel';\n      case 2:\n        return 'no';\n      default:\n        return 'cancel';\n    }\n  }\n\n  static showConfirmDialog(\n    message: string,\n    type?: 'none' | 'info' | 'error' | 'question' | 'warning'\n  ) {\n    if (!dialog || !electron) {\n      // eslint-disable-next-line\n      return confirm(message);\n    }\n\n    const browserWindow = remote.getCurrentWindow();\n    const answer = dialog.showMessageBoxSync(browserWindow, {\n      message,\n      type,\n      cancelId: 1,\n      buttons: ['OK', 'Cancel'],\n    });\n    return answer === 0;\n  }\n\n  static setUpContextMenu() {\n    const textEditorSelectors = 'textarea, input, [contenteditable=\"true\"]';\n\n    if (electron) {\n      // `remote.require` since `Menu` is a main-process module.\n      var buildEditorContextMenu = remote.require(\n        'electron-editor-context-menu'\n      );\n\n      window.addEventListener('contextmenu', function(e) {\n        // Only show the context menu in text editors.\n        if (!e.target.closest(textEditorSelectors)) return;\n\n        var menu = buildEditorContextMenu();\n\n        // The 'contextmenu' event is emitted after 'selectionchange' has fired but possibly before the\n        // visible selection has changed. Try to wait to show the menu until after that, otherwise the\n        // visible selection will update after the menu dismisses and look weird.\n        setTimeout(function() {\n          menu.popup({ window: remote.getCurrentWindow() });\n        }, 30);\n      });\n    } else if (document) {\n      document.addEventListener('contextmenu', function(e: any) {\n        // Only show the context menu in text editors.\n        if (!e.target.closest(textEditorSelectors)) {\n          e.preventDefault();\n          return false;\n        }\n\n        return true;\n      });\n    }\n  }\n\n  static openExternalURL(url: string) {\n    if (!url) return;\n\n    if (electron) {\n      if (shell) shell.openExternal(url);\n      return;\n    }\n\n    window.open(url, '_blank');\n  }\n\n  static hasMainMenu() {\n    return !!electron;\n  }\n\n  static isDev(): boolean {\n    if (!electron || !remote)\n      return !process.env.NODE_ENV || process.env.NODE_ENV === 'development';\n\n    try {\n      const isDev = remote.require('electron-is').dev();\n      return isDev;\n    } catch (err) {\n      // This rarely, but sometimes happen that require throw (\"missing remote object\").\n      // Catch the error in the hope that things will continue to work.\n      console.error(\n        \"Caught an error while calling remote.require('electron-is').dev\",\n        err\n      );\n      return false; // Assume we're not in development mode. Might be incorrect but better not consider production as development.\n    }\n  }\n}\n","// @flow\n// See https://gist.github.com/jed/982883\nconst generateUUID = (a): string => {\n  return a\n    ? // eslint-disable-next-line\n      (a ^ ((Math.random() * 16) >> (a / 4))).toString(16)\n    : // $FlowFixMe\n      ([1e7] + -1e3 + -4e3 + -8e3 + -1e11).replace(/[018]/g, generateUUID);\n};\n\nconst localStorageKey = 'gd-user-uuid';\nlet currentUserUuid: ?string = null;\n\nexport const resetUserUUID = (): string => {\n  const newUserUUID = generateUUID();\n  try {\n    localStorage.setItem(localStorageKey, newUserUUID);\n  } catch (e) {\n    console.warn('Unable to save a new user UUID', e);\n  }\n  currentUserUuid = newUserUUID;\n  return currentUserUuid;\n};\n\nexport const getUserUUID = (): string => {\n  if (currentUserUuid) return currentUserUuid;\n\n  try {\n    const storedUserUUID = localStorage.getItem(localStorageKey);\n    if (storedUserUUID) {\n      currentUserUuid = storedUserUUID;\n      return storedUserUUID;\n    }\n  } catch (e) {\n    console.warn('Unable to load stored user UUID', e);\n  }\n\n  return resetUserUUID();\n};\n","// @flow\nimport { Trans } from '@lingui/macro';\nimport * as React from 'react';\nimport type { ResourceKind } from '../../ResourcesList/ResourceSource';\nimport { type EditorMosaicNode } from '../../UI/EditorMosaic';\nimport { type FileMetadataAndStorageProviderName } from '../../ProjectsStorage';\nimport { type ShortcutMap } from '../../KeyboardShortcuts/DefaultShortcuts';\nimport { type CommandName } from '../../CommandPalette/CommandsList';\nimport optionalRequire from '../../Utils/OptionalRequire';\nconst electron = optionalRequire('electron');\n\nexport type AlertMessageIdentifier =\n  | 'default-additional-work'\n  | 'automatic-lighting-layer'\n  | 'object-moved-in-lighting-layer'\n  | 'use-non-smoothed-textures'\n  | 'use-pixel-rounding'\n  | 'use-nearest-scale-mode'\n  | 'maximum-fps-too-low'\n  | 'minimum-fps-too-low'\n  | 'function-extractor-explanation'\n  | 'events-based-behavior-explanation'\n  | 'empty-events-based-behavior-explanation'\n  | 'too-much-effects'\n  | 'effects-usage'\n  | 'lighting-layer-usage'\n  | 'resource-properties-panel-explanation'\n  | 'instance-drag-n-drop-explanation'\n  | 'objects-panel-explanation'\n  | 'instance-properties-panel-explanation'\n  | 'layers-panel-explanation'\n  | 'instances-panel-explanation'\n  | 'physics2-shape-collisions'\n  | 'edit-instruction-explanation'\n  | 'lifecycle-events-function-included-only-if-extension-used'\n  | 'p2p-broker-recommendation'\n  | 'command-palette-shortcut'\n  | 'asset-installed-explanation'\n  | 'extension-installed-explanation'\n  | 'project-should-have-unique-package-name';\n\nexport type EditorMosaicName =\n  | 'scene-editor'\n  | 'scene-editor-small'\n  | 'debugger'\n  | 'resources-editor'\n  | 'events-functions-extension-editor';\n\nexport const allAlertMessages: Array<{\n  key: AlertMessageIdentifier,\n  label: React.Node,\n}> = [\n  {\n    key: 'use-non-smoothed-textures',\n    label: <Trans>Using non smoothed textures</Trans>,\n  },\n  {\n    key: 'use-pixel-rounding',\n    label: <Trans>Using pixel rounding</Trans>,\n  },\n  {\n    key: 'use-nearest-scale-mode',\n    label: <Trans>Using Nearest Scale Mode</Trans>,\n  },\n  {\n    key: 'maximum-fps-too-low',\n    label: <Trans>Maximum Fps is too low</Trans>,\n  },\n  {\n    key: 'minimum-fps-too-low',\n    label: <Trans>Minimum Fps is too low</Trans>,\n  },\n  {\n    key: 'function-extractor-explanation',\n    label: <Trans>Using function extractor</Trans>,\n  },\n  {\n    key: 'events-based-behavior-explanation',\n    label: <Trans>Using events based behavior</Trans>,\n  },\n  {\n    key: 'empty-events-based-behavior-explanation',\n    label: <Trans>Using empty events based behavior</Trans>,\n  },\n  {\n    key: 'too-much-effects',\n    label: <Trans>Using too much effects</Trans>,\n  },\n  {\n    key: 'effects-usage',\n    label: <Trans>Using effects</Trans>,\n  },\n  {\n    key: 'lighting-layer-usage',\n    label: <Trans>Using lighting layer</Trans>,\n  },\n  {\n    key: 'automatic-lighting-layer',\n    label: <Trans>Automatic creation of lighting layer</Trans>,\n  },\n  {\n    key: 'object-moved-in-lighting-layer',\n    label: <Trans>Light object automatically put in lighting layer</Trans>,\n  },\n  {\n    key: 'resource-properties-panel-explanation',\n    label: <Trans>Using the resource properties panel</Trans>,\n  },\n  {\n    key: 'instance-drag-n-drop-explanation',\n    label: <Trans>Using instance drag'n'drop</Trans>,\n  },\n  {\n    key: 'objects-panel-explanation',\n    label: <Trans>Using the objects panel</Trans>,\n  },\n  {\n    key: 'instance-properties-panel-explanation',\n    label: <Trans>Using the instance properties panel</Trans>,\n  },\n  {\n    key: 'layers-panel-explanation',\n    label: <Trans>Using the layers panel</Trans>,\n  },\n  {\n    key: 'instances-panel-explanation',\n    label: <Trans>Using the instances panel</Trans>,\n  },\n  {\n    key: 'physics2-shape-collisions',\n    label: <Trans>Collisions handling with the Physics engine</Trans>,\n  },\n  {\n    key: 'edit-instruction-explanation',\n    label: <Trans>How to edit instructions</Trans>,\n  },\n  {\n    key: 'lifecycle-events-function-included-only-if-extension-used',\n    label: <Trans>Lifecycle functions only included when extension used</Trans>,\n  },\n  {\n    key: 'p2p-broker-recommendation',\n    label: <Trans>Peer to peer broker server recommendation</Trans>,\n  },\n  {\n    key: 'command-palette-shortcut',\n    label: <Trans>Command palette keyboard shortcut</Trans>,\n  },\n  {\n    key: 'asset-installed-explanation',\n    label: (\n      <Trans>Explanation after an object is installed from the store</Trans>\n    ),\n  },\n  {\n    key: 'project-should-have-unique-package-name',\n    label: (\n      <Trans>Project package names should not begin with com.example</Trans>\n    ),\n  },\n];\n\n/**\n * All the preferences of GDevelop. To add a new preference, add it into this\n * type and add a setter into `Preferences` type. Then, update the\n * preference dialog.\n */\nexport type PreferencesValues = {|\n  language: string,\n  autoDownloadUpdates: boolean,\n  themeName: string,\n  codeEditorThemeName: string,\n  hiddenAlertMessages: { [AlertMessageIdentifier]: boolean },\n  hiddenTutorialHints: { [string]: boolean },\n  autoDisplayChangelog: boolean,\n  lastLaunchedVersion: ?string,\n  eventsSheetShowObjectThumbnails: boolean,\n  autosaveOnPreview: boolean,\n  useNewInstructionEditorDialog: boolean,\n  useUndefinedVariablesInAutocompletion: boolean,\n  useGDJSDevelopmentWatcher: boolean,\n  eventsSheetUseAssignmentOperators: boolean,\n  eventsSheetZoomLevel: number,\n  showEffectParameterNames: boolean,\n  projectLastUsedPaths: { [string]: { [ResourceKind]: string } },\n  defaultEditorMosaicNodes: { [EditorMosaicName]: ?EditorMosaicNode },\n  recentProjectFiles: Array<FileMetadataAndStorageProviderName>,\n  autoOpenMostRecentProject: boolean,\n  hasProjectOpened: boolean,\n  userShortcutMap: ShortcutMap,\n  newObjectDialogDefaultTab: 'asset-store' | 'new-object',\n  isMenuBarHiddenInPreview: boolean,\n  isAlwaysOnTopInPreview: boolean,\n  backdropClickBehavior: 'nothing' | 'apply' | 'cancel',\n  eventsSheetCancelInlineParameter: 'cancel' | 'apply',\n  showCommunityExtensions: boolean,\n  showGetStartedSection: boolean,\n|};\n\n/**\n * Type containing all the preferences of GDevelop and their setters.\n */\nexport type Preferences = {|\n  values: PreferencesValues,\n  setLanguage: (language: string) => void,\n  setThemeName: (themeName: string) => void,\n  setCodeEditorThemeName: (codeEditorThemeName: string) => void,\n  setAutoDownloadUpdates: (enabled: boolean) => void,\n  checkUpdates: (forceDownload?: boolean) => void,\n  setAutoDisplayChangelog: (enabled: boolean) => void,\n  showAlertMessage: (identifier: AlertMessageIdentifier, show: boolean) => void,\n  showAllAlertMessages: () => void,\n  showTutorialHint: (identifier: string, show: boolean) => void,\n  showAllTutorialHints: () => void,\n  verifyIfIsNewVersion: () => boolean,\n  setEventsSheetShowObjectThumbnails: (enabled: boolean) => void,\n  setAutosaveOnPreview: (enabled: boolean) => void,\n  setUseNewInstructionEditorDialog: (enabled: boolean) => void,\n  setUseUndefinedVariablesInAutocompletion: (enabled: boolean) => void,\n  setUseGDJSDevelopmentWatcher: (enabled: boolean) => void,\n  setEventsSheetUseAssignmentOperators: (enabled: boolean) => void,\n  setEventsSheetZoomLevel: (zoomLevel: number) => void,\n  setShowEffectParameterNames: (enabled: boolean) => void,\n  getLastUsedPath: (project: gdProject, kind: ResourceKind) => string,\n  setLastUsedPath: (\n    project: gdProject,\n    kind: ResourceKind,\n    path: string\n  ) => void,\n  getDefaultEditorMosaicNode: (name: EditorMosaicName) => ?EditorMosaicNode,\n  setDefaultEditorMosaicNode: (\n    name: EditorMosaicName,\n    node: ?EditorMosaicNode\n  ) => void,\n  getRecentProjectFiles: () => Array<FileMetadataAndStorageProviderName>,\n  insertRecentProjectFile: (\n    fileMetadata: FileMetadataAndStorageProviderName\n  ) => void,\n  removeRecentProjectFile: (\n    fileMetadata: FileMetadataAndStorageProviderName\n  ) => void,\n  getAutoOpenMostRecentProject: () => boolean,\n  setAutoOpenMostRecentProject: (enabled: boolean) => void,\n  hadProjectOpenedDuringLastSession: () => boolean,\n  setHasProjectOpened: (enabled: boolean) => void,\n  resetShortcutsToDefault: () => void,\n  setShortcutForCommand: (commandName: CommandName, shortcut: string) => void,\n  getNewObjectDialogDefaultTab: () => 'asset-store' | 'new-object',\n  setNewObjectDialogDefaultTab: ('asset-store' | 'new-object') => void,\n  getIsMenuBarHiddenInPreview: () => boolean,\n  setIsMenuBarHiddenInPreview: (enabled: boolean) => void,\n  setBackdropClickBehavior: (value: string) => void,\n  getIsAlwaysOnTopInPreview: () => boolean,\n  setIsAlwaysOnTopInPreview: (enabled: boolean) => void,\n  setEventsSheetCancelInlineParameter: (value: string) => void,\n  setShowCommunityExtensions: (enabled: boolean) => void,\n  setShowGetStartedSection: (enabled: boolean) => void,\n|};\n\nexport const initialPreferences = {\n  values: {\n    language: 'en',\n    autoDownloadUpdates: true,\n    themeName:\n      typeof window !== 'undefined' &&\n      window.matchMedia('(prefers-color-scheme: dark)').matches\n        ? 'GDevelop default Dark'\n        : // TODO: Use the light theme back when it's adapted to the modern theme.\n          'GDevelop default Dark',\n    codeEditorThemeName: 'vs-dark',\n    hiddenAlertMessages: {},\n    hiddenTutorialHints: {},\n    autoDisplayChangelog: true,\n    lastLaunchedVersion: undefined,\n    eventsSheetShowObjectThumbnails: true,\n    autosaveOnPreview: true,\n    useNewInstructionEditorDialog: true,\n    useUndefinedVariablesInAutocompletion: false,\n    useGDJSDevelopmentWatcher: true,\n    eventsSheetUseAssignmentOperators: false,\n    eventsSheetZoomLevel: 14,\n    showEffectParameterNames: false,\n    projectLastUsedPaths: {},\n    defaultEditorMosaicNodes: {},\n    recentProjectFiles: [],\n    autoOpenMostRecentProject: true,\n    hasProjectOpened: false,\n    userShortcutMap: {},\n    newObjectDialogDefaultTab: electron ? 'new-object' : 'asset-store',\n    isMenuBarHiddenInPreview: true,\n    isAlwaysOnTopInPreview: false,\n    backdropClickBehavior: 'nothing',\n    eventsSheetCancelInlineParameter: 'apply',\n    showCommunityExtensions: false,\n    showGetStartedSection: true,\n  },\n  setLanguage: () => {},\n  setThemeName: () => {},\n  setCodeEditorThemeName: () => {},\n  setAutoDownloadUpdates: () => {},\n  checkUpdates: () => {},\n  setAutoDisplayChangelog: () => {},\n  showAlertMessage: (identifier: AlertMessageIdentifier, show: boolean) => {},\n  showAllAlertMessages: () => {},\n  showTutorialHint: (identifier: string, show: boolean) => {},\n  showAllTutorialHints: () => {},\n  verifyIfIsNewVersion: () => false,\n  setEventsSheetShowObjectThumbnails: () => {},\n  setAutosaveOnPreview: () => {},\n  setUseNewInstructionEditorDialog: (enabled: boolean) => {},\n  setUseUndefinedVariablesInAutocompletion: (enabled: boolean) => {},\n  setUseGDJSDevelopmentWatcher: (enabled: boolean) => {},\n  setEventsSheetUseAssignmentOperators: (enabled: boolean) => {},\n  setEventsSheetZoomLevel: (zoomLevel: number) => {},\n  setShowEffectParameterNames: (enabled: boolean) => {},\n  getLastUsedPath: (project: gdProject, kind: ResourceKind) => '',\n  setLastUsedPath: (project: gdProject, kind: ResourceKind, path: string) => {},\n  getDefaultEditorMosaicNode: (name: EditorMosaicName) => null,\n  setDefaultEditorMosaicNode: (\n    name: EditorMosaicName,\n    node: ?EditorMosaicNode\n  ) => {},\n  getRecentProjectFiles: () => [],\n  insertRecentProjectFile: (\n    fileMetadata: FileMetadataAndStorageProviderName\n  ) => {},\n  removeRecentProjectFile: (\n    fileMetadata: FileMetadataAndStorageProviderName\n  ) => {},\n  getAutoOpenMostRecentProject: () => true,\n  setAutoOpenMostRecentProject: () => {},\n  hadProjectOpenedDuringLastSession: () => false,\n  setHasProjectOpened: () => {},\n  resetShortcutsToDefault: () => {},\n  setShortcutForCommand: (commandName: CommandName, shortcut: string) => {},\n  getNewObjectDialogDefaultTab: () => 'asset-store',\n  setNewObjectDialogDefaultTab: () => {},\n  getIsMenuBarHiddenInPreview: () => true,\n  setIsMenuBarHiddenInPreview: () => {},\n  setBackdropClickBehavior: () => {},\n  getIsAlwaysOnTopInPreview: () => true,\n  setIsAlwaysOnTopInPreview: () => {},\n  setEventsSheetCancelInlineParameter: () => {},\n  setShowCommunityExtensions: () => {},\n  setShowGetStartedSection: (enabled: boolean) => {},\n};\n\nconst PreferencesContext = React.createContext<Preferences>(initialPreferences);\n\nexport default PreferencesContext;\n","// @flow\n\nimport LocalesMetadata from '../locales/LocalesMetadata';\n\n/**\n * Set language in the few main tags of importance\n *\n * @param language as used in i18n with `_`, ex: `en`, `fr_FR`, etc.\n */\nexport const setLanguageInDOM = (language: string): void => {\n  const formattedLanguage = language.replace('_', '-');\n\n  // <html lang=... xml:lang=... >\n  const htmlTag = document.getElementsByTagName('html')[0];\n  htmlTag.setAttribute('lang', formattedLanguage);\n  htmlTag.setAttribute('xml:lang', formattedLanguage);\n\n  // <meta httpEquiv=\"Content-Language\" content=... >\n  let metaContentLanguage = document.querySelector(\n    'meta[http-equiv=\"Content-Language\"]'\n  );\n  if (metaContentLanguage) {\n    metaContentLanguage.setAttribute('content', formattedLanguage);\n  } else {\n    metaContentLanguage = document.createElement('meta');\n    metaContentLanguage.setAttribute('http-equiv', 'Content-Language');\n    metaContentLanguage.setAttribute('content', formattedLanguage);\n    document.getElementsByTagName('head')[0].appendChild(metaContentLanguage);\n  }\n};\n\nexport const getBrowserLanguageOrLocale = (): string => {\n  return navigator.language.replace('-', '_');\n};\n\nconst getLanguageOnlyFromLanguageOrLocale = (\n  languageOrLocale: string\n): ?string => {\n  return languageOrLocale.split('_')[0] || null;\n};\n\n/**\n * Selects the nearest available language with a minimum translation ratio.\n *\n * @param languageOrLocale\n * @param defaultLanguage Language to be used when no good enough locale/language is found\n */\nexport const selectLanguageOrLocale = (\n  languageOrLocale: string,\n  defaultLanguage: string\n): string => {\n  const translationRatioThreshold = 0.7;\n  const languageMetadata = LocalesMetadata.filter(\n    localeMetadata => localeMetadata.languageCode === languageOrLocale\n  );\n  // If we have a good-enough translation for the exact language or locale, we use it.\n  if (languageMetadata.length > 0) {\n    if (languageMetadata[0].translationRatio > translationRatioThreshold) {\n      return languageOrLocale;\n    } else {\n      // If the translation is not good enough, don't even try to find another translation\n      // by language (because if the exact locale exists, it means the locale is important).\n      // So return the default language.\n      return defaultLanguage;\n    }\n  }\n\n  // If we can't find a translation for the exact language or locale,\n  // try to find a (good enough) translation for the language only.\n  const language = getLanguageOnlyFromLanguageOrLocale(languageOrLocale);\n  if (language) {\n    // Find the langauge corresponding locales ordered by translation ratio.\n    const localeCandidates = LocalesMetadata.filter(localeMetadata =>\n      localeMetadata.languageCode.startsWith(language)\n    ).sort((a, b) => (a.translationRatio > b.translationRatio ? -1 : 1));\n\n    if (\n      localeCandidates.length >= 1 &&\n      localeCandidates[0].translationRatio >= translationRatioThreshold\n    )\n      return localeCandidates[0].languageCode;\n  }\n\n  // We found:\n  // - no exact language or locale translation (considered good enough or not),\n  // - no language-only translation (considered good enough),\n  // so return the default language.\n  return defaultLanguage;\n};\n","// @flow\nimport Window from '../Window';\n\nconst isDev = Window.isDev();\n\nexport const GDevelopGamePreviews = {\n  baseUrl: `https://game-previews.gdevelop-app.com/`,\n};\n\nexport const GDevelopGamesPlatform = {\n  getInstantBuildUrl: (buildId: string) =>\n    isDev\n      ? `https://liluo.io/instant-builds/${buildId}?dev=true`\n      : `https://liluo.io/instant-builds/${buildId}`,\n  getGameUrl: (gameId: string) =>\n    isDev\n      ? `https://liluo.io/games/${gameId}?dev=true`\n      : `https://liluo.io/games/${gameId}`,\n  getGameUrlWithSlug: (userSlug: string, gameSlug: string) =>\n    isDev\n      ? `https://liluo.io/${userSlug.toLowerCase()}/${gameSlug.toLowerCase()}?dev=true`\n      : `https://liluo.io/${userSlug.toLowerCase()}/${gameSlug.toLowerCase()}`,\n  getUserPublicProfileUrl: (userId: string, username: ?string) =>\n    username\n      ? `https://liluo.io/${username}${isDev ? '?dev=true' : ''}`\n      : `https://liluo.io/user/${userId}${isDev ? '?dev=true' : ''}`,\n};\n\nexport const GDevelopBuildApi = {\n  baseUrl: isDev\n    ? 'https://69p4m07edd.execute-api.us-east-1.amazonaws.com/dev'\n    : 'https://api.gdevelop-app.com/build',\n};\n\nexport const GDevelopFirebaseConfig = {\n  apiKey: 'AIzaSyAnX9QMacrIl3yo4zkVFEVhDppGVDDewBc',\n  authDomain: 'gdevelop-services.firebaseapp.com',\n  databaseURL: 'https://gdevelop-services.firebaseio.com',\n  projectId: 'gdevelop-services',\n  storageBucket: 'gdevelop-services.appspot.com',\n  messagingSenderId: '44882707384',\n};\n\nexport const GDevelopUsageApi = {\n  baseUrl: isDev\n    ? 'https://dwjjhr5k76.execute-api.us-east-1.amazonaws.com/dev'\n    : 'https://api.gdevelop-app.com/usage',\n};\n\nexport const GDevelopReleaseApi = {\n  baseUrl: isDev\n    ? 'https://c8cldf4iqh.execute-api.us-east-1.amazonaws.com/dev'\n    : 'https://api.gdevelop-app.com/release',\n};\n\nexport const GDevelopAssetApi = {\n  baseUrl: isDev\n    ? 'https://57l4cj31aj.execute-api.us-east-1.amazonaws.com/dev'\n    : 'https://api.gdevelop-app.com/asset',\n};\n\nexport const GDevelopAnalyticsApi = {\n  baseUrl: isDev\n    ? 'https://fixpe96o0h.execute-api.us-east-1.amazonaws.com/dev'\n    : 'https://api.gdevelop-app.com/analytics',\n};\n\nexport const GDevelopGameApi = {\n  baseUrl: isDev\n    ? 'https://we7eqjifc2.execute-api.us-east-1.amazonaws.com/dev'\n    : 'https://api.gdevelop-app.com/game',\n};\n\nexport const GDevelopUserApi = {\n  baseUrl: isDev\n    ? 'https://yrun9q6udj.execute-api.us-east-1.amazonaws.com/dev'\n    : 'https://api.gdevelop-app.com/user',\n};\n\nexport const GDevelopPlayApi = {\n  baseUrl: isDev\n    ? 'https://n9dsp0xfw6.execute-api.us-east-1.amazonaws.com/dev'\n    : 'https://api.gdevelop-app.com/play',\n};\n","// @flow\nimport VersionMetadata from './VersionMetadata';\n\nexport const getIDEVersion = (): string => VersionMetadata.version;\nexport const getIDEVersionWithHash = (): string =>\n  VersionMetadata.versionWithHash;\n\nlet gdCoreVersionString = '';\nexport const getGDCoreVersion = (): string => {\n  if (gdCoreVersionString) return gdCoreVersionString;\n\n  const gd: libGDevelop = global.gd;\n  gdCoreVersionString = gd ? gd.VersionWrapper.fullString() : 'Unknown';\n  return gdCoreVersionString;\n};\n","import { createGdevelopTheme } from '../CreateTheme';\nimport styles from './DefaultLightThemeVariables.json';\nimport './DefaultLightThemeVariables.css';\n\nexport default createGdevelopTheme({\n  styles,\n\n  rootClassNameIdentifier: 'DefaultLightTheme',\n  paletteType: 'light',\n});\n","// @flow\n\nimport Window from '../../Utils/Window';\nimport { sendErrorMessage } from '../../Utils/Analytics/EventSender';\n\nexport const showMessageBox = (message: string) => {\n  Window.showMessageBox(message, 'info');\n};\n\ntype WarningOptions = {|\n  /**\n   * Delay the display of the warning to the next tick, not blocking the current function\n   * execution. This can be useful to work around freezing issues on Linux.\n   */\n  delayToNextTick: boolean,\n|};\n\nexport const showWarningBox = (message: string, options?: WarningOptions) => {\n  if (options && options.delayToNextTick) {\n    setTimeout(() => {\n      Window.showMessageBox(message, 'warning');\n    });\n  } else {\n    Window.showMessageBox(message, 'warning');\n  }\n};\n\ntype ErrorArgs = {|\n  message: string,\n  rawError: ?Error | Object,\n  errorId: string,\n  doNotReport?: boolean,\n|};\n\nexport const showErrorBox = ({\n  message,\n  rawError,\n  errorId,\n  doNotReport,\n}: ErrorArgs) => {\n  Window.showMessageBox(message, 'error');\n  if (!doNotReport) {\n    sendErrorMessage(message, 'error', rawError, errorId);\n  }\n  console.error(`${errorId}: \"${message}\". Raw error:`, rawError);\n};\n","// @flow\n// This file is generated by make-version-metadata.js script\n// Don't import this file directly, prefer to use newIDE/app/src/Version/index.js instead.\n// prettier-ignore\nmodule.exports = {\n  \"version\": \"5.0.139\",\n  \"gitHash\": \"1820575f521ea175babf931cd3ce918a53f24c7c\",\n  \"versionWithHash\": \"5.0.139-1820575f521ea175babf931cd3ce918a53f24c7c\"\n};\n","// @flow\nimport * as React from 'react';\nimport { Spacer, Line, Column } from './Grid';\nimport { useResponsiveWindowWidth } from './Reponsive/ResponsiveWindowMeasurer';\n\ntype TextFieldWithButtonLayoutProps = {|\n  renderTextField: () => React.Node,\n  renderButton: (style: {|\n    marginTop?: number,\n    marginBottom?: number,\n    marginLeft?: number,\n    marginRight?: number,\n    margin?: number,\n    flexShrink?: 0,\n  |}) => React.Node,\n  margin?: 'none' | 'dense',\n  noFloatingLabelText?: boolean,\n|};\n\nconst buttonCommonStyles = {\n  // Ensure the button is not shrinked, even if the text field\n  // (in particular with a long helper text) is large.\n  flexShrink: 0,\n};\n\nconst textFieldWithButtonLayoutStyles = {\n  container: {\n    flex: 1,\n    display: 'flex',\n    alignItems: 'flex-start', // Align from the top to stay at the same position when error/multiline\n  },\n  filledTextFieldWithLabelRightButtonMargins: {\n    ...buttonCommonStyles,\n    marginTop: 15, // Properly align with the text field (only dense \"filled\" text fields supported)\n    marginLeft: 8,\n  },\n  filledTextFieldWithoutLabelRightButtonMargins: {\n    ...buttonCommonStyles,\n    marginTop: 6, // Properly align with the text field (only dense \"filled\" text fields supported)\n    marginLeft: 8,\n  },\n  standardTextFieldWithLabelRightButtonMargins: {\n    ...buttonCommonStyles,\n    marginTop: 17, // Properly align with the text field (only \"standard\" text fields with margin \"none\" supported)\n    marginLeft: 8,\n  },\n  standardTextFieldWithoutLabelRightButtonMargins: {\n    ...buttonCommonStyles,\n    marginTop: 0, // Properly align with the text field (only \"standard\" text fields with margin \"none\" supported)\n    marginLeft: 8,\n  },\n};\n\n/**\n * Position a button on the right of a TextField.\n */\nexport const TextFieldWithButtonLayout = ({\n  margin,\n  noFloatingLabelText,\n  renderTextField,\n  renderButton,\n}: TextFieldWithButtonLayoutProps) => {\n  return (\n    <div style={textFieldWithButtonLayoutStyles.container}>\n      {renderTextField()}\n      {renderButton(\n        margin === 'none'\n          ? noFloatingLabelText\n            ? textFieldWithButtonLayoutStyles.standardTextFieldWithoutLabelRightButtonMargins\n            : textFieldWithButtonLayoutStyles.standardTextFieldWithLabelRightButtonMargins\n          : noFloatingLabelText\n          ? textFieldWithButtonLayoutStyles.filledTextFieldWithoutLabelRightButtonMargins\n          : textFieldWithButtonLayoutStyles.filledTextFieldWithLabelRightButtonMargins\n      )}\n    </div>\n  );\n};\n\ntype LineStackLayoutProps = {|\n  alignItems?: string,\n  justifyContent?: string,\n  expand?: boolean,\n  noMargin?: boolean,\n  children: React.Node,\n|};\n\nexport const LineStackLayout = ({\n  alignItems,\n  justifyContent,\n  expand,\n  noMargin,\n  children,\n}: LineStackLayoutProps) => {\n  let isFirstChild = true;\n  return (\n    <Line\n      alignItems={alignItems}\n      justifyContent={justifyContent}\n      expand={expand}\n      noMargin={noMargin}\n    >\n      {React.Children.map(children, (child, index) => {\n        if (!child) return null;\n\n        const addSpacers = !isFirstChild;\n        isFirstChild = false;\n\n        return (\n          <React.Fragment>\n            {addSpacers && <Spacer />}\n            {child}\n          </React.Fragment>\n        );\n      })}\n    </Line>\n  );\n};\n\ntype ResponsiveLineStackLayoutProps = {|\n  alignItems?: string,\n  justifyContent?: string,\n  expand?: boolean,\n  /** Prefer `noColumnMargin` if needed. */\n  noMargin?: boolean,\n  /** Remove the margin on the left and right of the column, when the layout is shown as a single column. */\n  noColumnMargin?: boolean,\n  /** Do not measure window width in case parent component is in smaller component */\n  width?: 'small',\n  children: React.Node,\n|};\n\nexport const ResponsiveLineStackLayout = ({\n  alignItems,\n  justifyContent,\n  expand,\n  noMargin,\n  noColumnMargin,\n  width,\n  children,\n}: ResponsiveLineStackLayoutProps) => {\n  const windowWidth = useResponsiveWindowWidth();\n\n  return (width || windowWidth) === 'small' ? (\n    <ColumnStackLayout noMargin={noMargin || noColumnMargin} expand>\n      {children}\n    </ColumnStackLayout>\n  ) : (\n    <LineStackLayout\n      alignItems={alignItems}\n      justifyContent={justifyContent}\n      expand={expand}\n      noMargin={noMargin}\n    >\n      {children}\n    </LineStackLayout>\n  );\n};\n\ntype ColumnStackLayoutProps = {|\n  alignItems?: string,\n  justifyContent?: string,\n  expand?: boolean,\n  noMargin?: boolean,\n  children: React.Node,\n  noOverflowParent?: boolean,\n  useFullHeight?: boolean,\n|};\n\nexport const ColumnStackLayout = ({\n  alignItems,\n  justifyContent,\n  expand,\n  noMargin,\n  children,\n  noOverflowParent,\n  useFullHeight,\n}: ColumnStackLayoutProps) => {\n  let isFirstChild = true;\n  return (\n    <Column\n      alignItems={alignItems}\n      justifyContent={justifyContent}\n      expand={expand}\n      noMargin={noMargin}\n      noOverflowParent={noOverflowParent}\n      useFullHeight={useFullHeight}\n    >\n      {React.Children.map(children, (child, index) => {\n        if (!child) return null;\n\n        const addSpacers = !isFirstChild;\n        isFirstChild = false;\n\n        return (\n          <React.Fragment>\n            {addSpacers && <Spacer />}\n            {child}\n          </React.Fragment>\n        );\n      })}\n    </Column>\n  );\n};\n","// @flow\nimport Keen from 'keen-tracking';\nimport posthog from 'posthog-js';\nimport { getUserUUID, resetUserUUID } from './UserUUID';\nimport Authentication from '../GDevelopServices/Authentication';\nimport {\n  getProgramOpeningCount,\n  incrementProgramOpeningCount,\n} from './LocalStats';\nimport { getStartupTimesSummary } from '../StartupTimes';\nimport { getIDEVersion, getIDEVersionWithHash } from '../../Version';\nimport { loadPreferencesFromLocalStorage } from '../../MainFrame/Preferences/PreferencesProvider';\nimport { getBrowserLanguageOrLocale } from '../Language';\nimport { isUserflowRunning } from '../../MainFrame/Onboarding/OnboardingDialog';\nimport optionalRequire from '../OptionalRequire';\nimport Window from '../Window';\nconst electron = optionalRequire('electron');\n\nconst isElectronApp = !!electron;\nconst isDev = Window.isDev();\nlet startupTimesSummary = null;\n\nlet posthogLoaded = false;\nconst posthogAliasMade = [];\nlet posthogLastPropertiesSent = '';\n\nlet keenClient = null;\n\nconst recordEvent = (name: string, metadata?: { [string]: any }) => {\n  if (isDev || !keenClient) return;\n\n  if (!posthogLoaded) {\n    console.info(`App analytics not ready for an event - retrying in 2s.`);\n    setTimeout(() => {\n      console.info(\n        `Retrying to send the app analytics event with name ${name}`\n      );\n      recordEvent(name, metadata);\n    }, 2000);\n\n    return;\n  }\n\n  keenClient.recordEvent(name, metadata);\n  posthog.capture(name, {\n    ...metadata,\n    isInAppTutorialRunning: isUserflowRunning,\n    isInDesktopApp: isElectronApp,\n    isInWebApp: !isElectronApp,\n  });\n};\n\nexport const installAnalyticsEvents = (authentication: Authentication) => {\n  if (isDev) {\n    console.info('Development build - Analytics disabled');\n    return;\n  }\n\n  const version = getIDEVersion();\n  const versionWithHash = getIDEVersionWithHash();\n\n  const updateUserInformation = () => {\n    if (!posthogLoaded) {\n      console.info(`App analytics not ready - retrying in 2s.`);\n      setTimeout(() => {\n        console.info(`Retrying to update the user for app analytics.`);\n        updateUserInformation();\n      }, 2000);\n\n      return;\n    }\n\n    const firebaseUser = authentication.getFirebaseUserSync();\n    const userPreferences = loadPreferencesFromLocalStorage();\n    const appLanguage = userPreferences ? userPreferences.language : undefined;\n    const browserLanguage = getBrowserLanguageOrLocale();\n\n    const userProperties = {\n      providerId: firebaseUser ? firebaseUser.providerId : undefined,\n      email: firebaseUser ? firebaseUser.email : undefined,\n      emailVerified: firebaseUser ? firebaseUser.emailVerified : undefined,\n      // Only keep information useful to generate app usage statistics:\n      uuid: getUserUUID(),\n      version,\n      versionWithHash,\n      appLanguage,\n      browserLanguage,\n      programOpeningCount: getProgramOpeningCount(),\n      themeName: userPreferences ? userPreferences.themeName : 'Unknown',\n      ...(isElectronApp ? { usedDesktopApp: true } : { usedWebApp: true }),\n    };\n\n    if (firebaseUser) {\n      const aliasKey = firebaseUser.uid + '#' + getUserUUID();\n      if (!posthogAliasMade.includes(aliasKey)) {\n        // Alias the random UUID to the signed in user id\n        // so we avoid to consider this as a different user in stats.\n        posthog.alias(firebaseUser.uid, getUserUUID());\n        posthogAliasMade.push(aliasKey);\n      }\n    }\n\n    // Send user information, after de-duplicating the call to avoid useless\n    // calls.\n    // This is so we can build stats on the used version, languages and usage\n    // of GDevelop features.\n    const stringifiedUserProperties = JSON.stringify(userProperties);\n    if (stringifiedUserProperties !== posthogLastPropertiesSent) {\n      posthog.identify(getUserUUID(), userProperties);\n      posthogLastPropertiesSent = stringifiedUserProperties;\n    }\n  };\n\n  const onUserLogout = () => {\n    // Reset the UUID to generate a random new one and be sure\n    // we don't count different users as a single one in our stats.\n    resetUserUUID();\n    posthog.reset();\n\n    updateUserInformation();\n  };\n\n  authentication.addUserLogoutListener(onUserLogout);\n  authentication.addUserUpdateListener(updateUserInformation);\n\n  // Posthog\n  posthog.init('phc_yjTVz4BMHUOhCLBhVImjk3Jn1AjMCg808bxENY228qu', {\n    api_host: 'https://app.posthog.com',\n    loaded: () => {\n      posthogLoaded = true;\n      updateUserInformation();\n    },\n    autocapture: false,\n  });\n\n  // Keen.io\n  const sessionCookie = Keen.utils.cookie('visitor-stats');\n  const sessionTimer = Keen.utils.timer();\n  sessionTimer.start();\n\n  keenClient = new Keen({\n    projectId: '593d9f0595cfc907a1f8126a',\n    writeKey:\n      'B917F1DB50EE4C8949DBB374D2962845A22838B425AA43322A37138691A5270EB0358AEE45A4F61AFA7713B9765B4980517A1E276D4973A2E546EA851BF7757523706367ED430C041D2728A63BF61B5D1B2079C75E455DDDFAAC4324128AC2DB',\n  });\n\n  keenClient.extendEvents(function() {\n    // Include the user public profile.\n    const firebaseUser = authentication.getFirebaseUserSync();\n\n    // Compute the startup times (only once to avoid doing this for every event).\n    startupTimesSummary = startupTimesSummary || getStartupTimesSummary();\n\n    const userPreferences = loadPreferencesFromLocalStorage();\n    const appLanguage = userPreferences ? userPreferences.language : undefined;\n    const browserLanguage = getBrowserLanguageOrLocale();\n\n    return {\n      user: {\n        uuid: getUserUUID(),\n        uid: firebaseUser ? firebaseUser.uid : undefined,\n        providerId: firebaseUser ? firebaseUser.providerId : undefined,\n        email: firebaseUser ? firebaseUser.email : undefined,\n        emailVerified: firebaseUser ? firebaseUser.emailVerified : undefined,\n      },\n      localStats: {\n        programOpeningCount: getProgramOpeningCount(),\n      },\n      tutorials: {\n        // Useful to differentiate if an event is part of a tutorial or not.\n        isInAppTutorialRunning: isUserflowRunning,\n      },\n      language: {\n        appLanguage,\n        browserLanguage,\n      },\n      versionMetadata: {\n        version,\n        versionWithHash,\n      },\n      startupTimesSummary,\n      page: {\n        title: document.title,\n        url: document.location.href,\n        // info: {} (add-on)\n      },\n      referrer: {\n        url: document.referrer,\n        // info: {} (add-on)\n      },\n      tech: {\n        browser: Keen.helpers.getBrowserProfile(),\n        // info: {} (add-on)\n        ip: '${keen.ip}', // eslint-disable-line\n        ua: '${keen.user_agent}', // eslint-disable-line\n      },\n      time: Keen.helpers.getDatetimeIndex(),\n      visitor: {\n        id: sessionCookie.get('user_id'),\n        time_on_page: sessionTimer.value(),\n      },\n      // geo: {} (add-on)\n      keen: {\n        timestamp: new Date().toISOString(),\n        addons: [\n          {\n            name: 'keen:ip_to_geo',\n            input: {\n              ip: 'tech.ip',\n            },\n            output: 'geo',\n          },\n          {\n            name: 'keen:ua_parser',\n            input: {\n              ua_string: 'tech.ua',\n            },\n            output: 'tech.info',\n          },\n          {\n            name: 'keen:url_parser',\n            input: {\n              url: 'page.url',\n            },\n            output: 'page.info',\n          },\n          {\n            name: 'keen:referrer_parser',\n            input: {\n              page_url: 'page.url',\n              referrer_url: 'referrer.url',\n            },\n            output: 'referrer.info',\n          },\n        ],\n      },\n    };\n  });\n};\n\nexport const sendProgramOpening = () => {\n  incrementProgramOpeningCount();\n  recordEvent('program_opening');\n};\n\nexport const sendExportLaunched = (exportKind: string) => {\n  recordEvent('export_launched', {\n    platform: 'GDevelop JS Platform', // Hardcoded here for now\n    exportKind,\n  });\n};\n\nexport const sendExampleDetailsOpened = (slug: string) => {\n  recordEvent('example-details-opened', { slug });\n};\n\nexport const sendNewGameCreated = ({\n  exampleUrl,\n  exampleSlug,\n}: {|\n  exampleUrl: string,\n  exampleSlug: string,\n|}) => {\n  recordEvent('new_game_creation', {\n    platform: 'GDevelop JS Platform', // Hardcoded here for now\n    templateName: exampleUrl,\n    exampleSlug,\n  });\n};\n\nexport const sendTutorialOpened = (tutorialName: string) => {\n  recordEvent('tutorial_opened', {\n    tutorialName,\n  });\n};\n\nexport const sendOnboardingManuallyOpened = () => {\n  recordEvent('onboarding_manually_opened');\n};\n\nexport const sendAssetPackOpened = (assetPackTag: string) => {\n  recordEvent('asset_pack_opened', {\n    assetPackTag,\n  });\n};\n\nexport const sendHelpFinderOpened = () => {\n  recordEvent('help_finder_opened', {});\n};\n\nexport const sendHelpSearch = (searchText: string) => {\n  recordEvent('help_search', {\n    searchText,\n  });\n};\n\nexport const sendErrorMessage = (\n  message: string,\n  type: 'error' | 'error-boundary',\n  rawError: any,\n  errorId: string\n) => {\n  recordEvent('error_message', {\n    message,\n    type,\n    rawError,\n    errorId,\n  });\n};\n\nexport const sendSignupDone = (email: string) => {\n  recordEvent('signup', {\n    email,\n  });\n};\n\nexport const sendSubscriptionCheckDialogShown = ({\n  mode,\n  id,\n}: {|\n  mode: string,\n  id: string,\n|}) => {\n  recordEvent('subscription-check-dialog-shown', {\n    mode,\n    title: id,\n  });\n};\n\nexport const sendSubscriptionCheckDismiss = () => {\n  recordEvent('subscription-check-dialog-dismiss');\n};\n\nexport const sendSubscriptionDialogShown = () => {\n  recordEvent('subscription-dialog-shown', {});\n};\n\nexport const sendAssetOpened = ({\n  id,\n  name,\n}: {|\n  id: string,\n  name: string,\n|}) => {\n  recordEvent('asset-opened', { id, name });\n};\n\nexport const sendAssetAddedToProject = ({\n  id,\n  name,\n}: {|\n  id: string,\n  name: string,\n|}) => {\n  recordEvent('asset-added-to-project', { id, name });\n};\n\nexport const sendExtensionDetailsOpened = (name: string) => {\n  recordEvent('extension-details-opened', { name });\n};\n\nexport const sendExtensionAddedToProject = (name: string) => {\n  recordEvent('extension-added-to-project', { name });\n};\n\nexport const sendNewObjectCreated = (name: string) => {\n  recordEvent('new-object-created', { name });\n};\n\nexport const sendShowcaseGameLinkOpened = (title: string, linkType: string) => {\n  recordEvent('showcase-open-game-link', { title, linkType });\n};\n\nexport const sendChoosePlanClicked = (planId: string | null) => {\n  recordEvent('choose-plan-click', { planId });\n};\n\nexport const sendExternalEditorOpened = (editorName: string) => {\n  recordEvent('open_external_editor', { editorName });\n};\n\nexport const sendBehaviorsEditorShown = ({\n  parentEditor,\n}: {|\n  parentEditor: 'object-editor-dialog',\n|}) => {\n  recordEvent('behaviors-editor-shown', { parentEditor });\n};\n\nexport const sendBehaviorAdded = ({\n  behaviorType,\n  parentEditor,\n}: {|\n  behaviorType: string,\n  parentEditor: 'behaviors-editor' | 'instruction-editor-dialog',\n|}) => {\n  recordEvent('behavior-added', { behaviorType, parentEditor });\n};\n\nexport const sendEventsExtractedAsFunction = ({\n  step,\n  parentEditor,\n}: {|\n  step: 'begin' | 'end',\n  parentEditor:\n    | 'scene-events-editor'\n    | 'extension-events-editor'\n    | 'external-events-editor',\n|}) => {\n  recordEvent('events-extracted-as-function', {\n    step,\n    parentEditor,\n  });\n};\n\nconst trackInAppTutorialProgress = (\n  stepIndex: number,\n  isCompleted: boolean = false\n) => {\n  recordEvent('user-flow-onboarding', { stepIndex, isCompleted });\n};\n\n// Make this function global so it can be accessed from userflow's\n// step \"Evaluate JS\" actions\nglobal.trackInAppTutorialProgress = trackInAppTutorialProgress;\n","// @flow\n\nimport * as React from 'react';\nimport PreferencesContext, {\n  initialPreferences,\n  type Preferences,\n  type AlertMessageIdentifier,\n} from './PreferencesContext';\nimport optionalRequire from '../../Utils/OptionalRequire';\nimport { getIDEVersion } from '../../Version';\nimport {\n  type PreferencesValues,\n  type EditorMosaicName,\n} from './PreferencesContext';\nimport type { ResourceKind } from '../../ResourcesList/ResourceSource';\nimport { type EditorMosaicNode } from '../../UI/EditorMosaic';\nimport { type FileMetadataAndStorageProviderName } from '../../ProjectsStorage';\nimport defaultShortcuts from '../../KeyboardShortcuts/DefaultShortcuts';\nimport { type CommandName } from '../../CommandPalette/CommandsList';\nimport {\n  getBrowserLanguageOrLocale,\n  setLanguageInDOM,\n  selectLanguageOrLocale,\n} from '../../Utils/Language';\nconst electron = optionalRequire('electron');\nconst ipcRenderer = electron ? electron.ipcRenderer : null;\n\ntype Props = {|\n  children: React.Node,\n  disableCheckForUpdates: boolean,\n|};\n\ntype State = Preferences;\n\nconst LocalStorageItem = 'gd-preferences';\nconst MAX_RECENT_FILES_COUNT = 20;\n\nexport const loadPreferencesFromLocalStorage = (): ?PreferencesValues => {\n  try {\n    const persistedState = localStorage.getItem(LocalStorageItem);\n    if (!persistedState) return null;\n\n    const values = JSON.parse(persistedState);\n\n    // \"Migrate\" non existing properties to their default values\n    // (useful when upgrading the preferences to a new version where\n    // a new preference was added).\n    for (const key in initialPreferences.values) {\n      if (\n        initialPreferences.values.hasOwnProperty(key) &&\n        typeof values[key] === 'undefined'\n      ) {\n        values[key] = initialPreferences.values[key];\n      }\n    }\n\n    // Migrate renamed themes.\n    if (values.themeName === 'GDevelop default') {\n      values.themeName = 'GDevelop default Light';\n    } else if (values.themeName === 'Dark') {\n      values.themeName = 'Blue Dark';\n    }\n\n    return values;\n  } catch (e) {\n    return null;\n  }\n};\n\nexport const getInitialPreferences = () => {\n  let languageOrLocale = 'en';\n  const browserLanguageOrLocale = getBrowserLanguageOrLocale();\n  if (browserLanguageOrLocale)\n    languageOrLocale = selectLanguageOrLocale(\n      browserLanguageOrLocale,\n      languageOrLocale\n    );\n\n  return { ...initialPreferences.values, language: languageOrLocale };\n};\n\nconst getPreferences = () => {\n  const preferences =\n    loadPreferencesFromLocalStorage() || getInitialPreferences();\n  setLanguageInDOM(preferences.language);\n  return preferences;\n};\n\nexport default class PreferencesProvider extends React.Component<Props, State> {\n  state = {\n    values: getPreferences(),\n    setLanguage: this._setLanguage.bind(this),\n    setThemeName: this._setThemeName.bind(this),\n    setCodeEditorThemeName: this._setCodeEditorThemeName.bind(this),\n    setAutoDownloadUpdates: this._setAutoDownloadUpdates.bind(this),\n    checkUpdates: this._checkUpdates.bind(this),\n    setAutoDisplayChangelog: this._setAutoDisplayChangelog.bind(this),\n    showAlertMessage: this._showAlertMessage.bind(this),\n    showAllAlertMessages: this._showAllAlertMessages.bind(this),\n    showTutorialHint: this._showTutorialHint.bind(this),\n    showAllTutorialHints: this._showAllTutorialHints.bind(this),\n    verifyIfIsNewVersion: this._verifyIfIsNewVersion.bind(this),\n    setEventsSheetShowObjectThumbnails: this._setEventsSheetShowObjectThumbnails.bind(\n      this\n    ),\n    setAutosaveOnPreview: this._setAutosaveOnPreview.bind(this),\n    setUseNewInstructionEditorDialog: this._setUseNewInstructionEditorDialog.bind(\n      this\n    ),\n    setUseUndefinedVariablesInAutocompletion: this._setUseUndefinedVariablesInAutocompletion.bind(\n      this\n    ),\n    setUseGDJSDevelopmentWatcher: this._setUseGDJSDevelopmentWatcher.bind(this),\n    setEventsSheetUseAssignmentOperators: this._setEventsSheetUseAssignmentOperators.bind(\n      this\n    ),\n    setEventsSheetZoomLevel: this._setEventsSheetZoomLevel.bind(this),\n    setShowEffectParameterNames: this._setShowEffectParameterNames.bind(this),\n    getLastUsedPath: this._getLastUsedPath.bind(this),\n    setLastUsedPath: this._setLastUsedPath.bind(this),\n    getDefaultEditorMosaicNode: this._getDefaultEditorMosaicNode.bind(this),\n    setDefaultEditorMosaicNode: this._setDefaultEditorMosaicNode.bind(this),\n    getRecentProjectFiles: this._getRecentProjectFiles.bind(this),\n    insertRecentProjectFile: this._insertRecentProjectFile.bind(this),\n    removeRecentProjectFile: this._removeRecentProjectFile.bind(this),\n    getAutoOpenMostRecentProject: this._getAutoOpenMostRecentProject.bind(this),\n    setAutoOpenMostRecentProject: this._setAutoOpenMostRecentProject.bind(this),\n    hadProjectOpenedDuringLastSession: this._hadProjectOpenedDuringLastSession.bind(\n      this\n    ),\n    setHasProjectOpened: this._setHasProjectOpened.bind(this),\n    setShortcutForCommand: this._setShortcutForCommand.bind(this),\n    resetShortcutsToDefault: this._resetShortcutsToDefault.bind(this),\n    getNewObjectDialogDefaultTab: this._getNewObjectDialogDefaultTab.bind(this),\n    setNewObjectDialogDefaultTab: this._setNewObjectDialogDefaultTab.bind(this),\n    getIsMenuBarHiddenInPreview: this._getIsMenuBarHiddenInPreview.bind(this),\n    setIsMenuBarHiddenInPreview: this._setIsMenuBarHiddenInPreview.bind(this),\n    setBackdropClickBehavior: this._setBackdropClickBehavior.bind(this),\n    getIsAlwaysOnTopInPreview: this._getIsAlwaysOnTopInPreview.bind(this),\n    setIsAlwaysOnTopInPreview: this._setIsAlwaysOnTopInPreview.bind(this),\n    setEventsSheetCancelInlineParameter: this._setEventsSheetCancelInlineParameter.bind(\n      this\n    ),\n    setShowCommunityExtensions: this._setShowCommunityExtensions.bind(this),\n    setShowGetStartedSection: this._setShowGetStartedSection.bind(this),\n  };\n\n  componentDidMount() {\n    setTimeout(() => this._checkUpdates(), 10000);\n  }\n\n  _setLanguage(language: string) {\n    setLanguageInDOM(language);\n    this.setState(\n      state => ({\n        values: {\n          ...state.values,\n          language,\n        },\n      }),\n      () => this._persistValuesToLocalStorage(this.state)\n    );\n  }\n\n  _setEventsSheetShowObjectThumbnails(\n    eventsSheetShowObjectThumbnails: boolean\n  ) {\n    this.setState(\n      state => ({\n        values: {\n          ...state.values,\n          eventsSheetShowObjectThumbnails,\n        },\n      }),\n      () => this._persistValuesToLocalStorage(this.state)\n    );\n  }\n\n  _setAutosaveOnPreview(autosaveOnPreview: boolean) {\n    this.setState(\n      state => ({\n        values: {\n          ...state.values,\n          autosaveOnPreview,\n        },\n      }),\n      () => this._persistValuesToLocalStorage(this.state)\n    );\n  }\n\n  _setUseNewInstructionEditorDialog(useNewInstructionEditorDialog: boolean) {\n    this.setState(\n      state => ({\n        values: {\n          ...state.values,\n          useNewInstructionEditorDialog,\n        },\n      }),\n      () => this._persistValuesToLocalStorage(this.state)\n    );\n  }\n\n  _setUseUndefinedVariablesInAutocompletion(\n    useUndefinedVariablesInAutocompletion: boolean\n  ) {\n    this.setState(\n      state => ({\n        values: {\n          ...state.values,\n          useUndefinedVariablesInAutocompletion,\n        },\n      }),\n      () => this._persistValuesToLocalStorage(this.state)\n    );\n  }\n\n  _setUseGDJSDevelopmentWatcher(useGDJSDevelopmentWatcher: boolean) {\n    this.setState(\n      state => ({\n        values: {\n          ...state.values,\n          useGDJSDevelopmentWatcher,\n        },\n      }),\n      () => this._persistValuesToLocalStorage(this.state)\n    );\n  }\n\n  _setEventsSheetUseAssignmentOperators(\n    eventsSheetUseAssignmentOperators: boolean\n  ) {\n    this.setState(\n      state => ({\n        values: {\n          ...state.values,\n          eventsSheetUseAssignmentOperators,\n        },\n      }),\n      () => this._persistValuesToLocalStorage(this.state)\n    );\n  }\n\n  _setEventsSheetZoomLevel(eventsSheetZoomLevel: number) {\n    this.setState(\n      state => ({\n        values: {\n          ...state.values,\n          eventsSheetZoomLevel,\n        },\n      }),\n      () => this._persistValuesToLocalStorage(this.state)\n    );\n  }\n\n  _setShowEffectParameterNames(showEffectParameterNames: boolean) {\n    this.setState(\n      state => ({\n        values: {\n          ...state.values,\n          showEffectParameterNames,\n        },\n      }),\n      () => this._persistValuesToLocalStorage(this.state)\n    );\n  }\n\n  _setShowGetStartedSection(showGetStartedSection: boolean) {\n    this.setState(\n      state => ({\n        values: {\n          ...state.values,\n          showGetStartedSection,\n        },\n      }),\n      () => this._persistValuesToLocalStorage(this.state)\n    );\n  }\n\n  _setThemeName(themeName: string) {\n    this.setState(\n      state => ({\n        values: {\n          ...state.values,\n          themeName,\n        },\n      }),\n      () => this._persistValuesToLocalStorage(this.state)\n    );\n  }\n\n  _setCodeEditorThemeName(codeEditorThemeName: string) {\n    this.setState(\n      state => ({\n        values: {\n          ...state.values,\n          codeEditorThemeName,\n        },\n      }),\n      () => this._persistValuesToLocalStorage(this.state)\n    );\n  }\n\n  _setAutoDownloadUpdates(autoDownloadUpdates: boolean) {\n    this.setState(\n      state => ({\n        values: {\n          ...state.values,\n          autoDownloadUpdates,\n        },\n      }),\n      () => this._persistValuesToLocalStorage(this.state)\n    );\n  }\n\n  _setAutoDisplayChangelog(autoDisplayChangelog: boolean) {\n    this.setState(\n      state => ({\n        values: {\n          ...state.values,\n          autoDisplayChangelog,\n        },\n      }),\n      () => this._persistValuesToLocalStorage(this.state)\n    );\n  }\n\n  _setEventsSheetCancelInlineParameter(\n    eventsSheetCancelInlineParameter: 'apply' | 'cancel'\n  ) {\n    this.setState(\n      state => ({\n        values: {\n          ...state.values,\n          eventsSheetCancelInlineParameter,\n        },\n      }),\n      () => this._persistValuesToLocalStorage(this.state)\n    );\n  }\n\n  _setShowCommunityExtensions(showCommunityExtensions: boolean) {\n    this.setState(\n      state => ({\n        values: {\n          ...state.values,\n          showCommunityExtensions,\n        },\n      }),\n      () => this._persistValuesToLocalStorage(this.state)\n    );\n  }\n\n  _checkUpdates(forceDownload?: boolean) {\n    // Checking for updates is only done on Electron.\n    // Note: This could be abstracted away later if other updates mechanisms\n    // should be supported.\n    const { disableCheckForUpdates } = this.props;\n    if (!ipcRenderer || disableCheckForUpdates) return;\n\n    if (!!forceDownload || this.state.values.autoDownloadUpdates) {\n      ipcRenderer.send('updates-check-and-download');\n    } else {\n      ipcRenderer.send('updates-check');\n    }\n  }\n\n  _verifyIfIsNewVersion() {\n    const currentVersion = getIDEVersion();\n    const { lastLaunchedVersion } = this.state.values;\n    if (lastLaunchedVersion === currentVersion) {\n      // This is not a new version\n      return false;\n    }\n\n    // This is a new version: store the version number\n    this.setState(\n      state => ({\n        values: {\n          ...state.values,\n          lastLaunchedVersion: currentVersion,\n        },\n      }),\n      () => this._persistValuesToLocalStorage(this.state)\n    );\n\n    if (lastLaunchedVersion === undefined) {\n      // This is the first time GDevelop is launched, don't\n      // warn about this version being new.\n      return false;\n    }\n\n    return true;\n  }\n\n  _showAlertMessage(identifier: AlertMessageIdentifier, show: boolean) {\n    this.setState(\n      state => ({\n        values: {\n          ...state.values,\n          hiddenAlertMessages: {\n            ...state.values.hiddenAlertMessages,\n            // $FlowFixMe - Flow won't typecheck this because of https://medium.com/flow-type/spreads-common-errors-fixes-9701012e9d58\n            [identifier]: !show,\n          },\n        },\n      }),\n      () => this._persistValuesToLocalStorage(this.state)\n    );\n  }\n\n  _showAllAlertMessages() {\n    this.setState(\n      state => ({\n        values: {\n          ...state.values,\n          hiddenAlertMessages: {},\n        },\n      }),\n      () => this._persistValuesToLocalStorage(this.state)\n    );\n  }\n\n  _showTutorialHint(identifier: string, show: boolean) {\n    this.setState(\n      state => ({\n        values: {\n          ...state.values,\n          hiddenTutorialHints: {\n            ...state.values.hiddenTutorialHints,\n            [identifier]: !show,\n          },\n        },\n      }),\n      () => this._persistValuesToLocalStorage(this.state)\n    );\n  }\n\n  _showAllTutorialHints() {\n    this.setState(\n      state => ({\n        values: {\n          ...state.values,\n          hiddenTutorialHints: {},\n        },\n      }),\n      () => this._persistValuesToLocalStorage(this.state)\n    );\n  }\n\n  _persistValuesToLocalStorage(preferences: Preferences) {\n    try {\n      localStorage.setItem(\n        LocalStorageItem,\n        JSON.stringify(preferences.values)\n      );\n    } catch (e) {\n      console.warn('Unable to persist preferences', e);\n    }\n\n    return preferences;\n  }\n\n  _getLastUsedPath(project: gdProject, kind: ResourceKind) {\n    const projectPath = project.getProjectFile();\n    const { values } = this.state;\n    const projectPaths = values.projectLastUsedPaths[projectPath];\n    if (projectPaths && projectPaths[kind]) {\n      return projectPaths[kind];\n    }\n    if (!projectPath) return null;\n  }\n\n  _setLastUsedPath(project: gdProject, kind: ResourceKind, latestPath: string) {\n    const projectPath = project.getProjectFile();\n\n    const { values } = this.state;\n    const newProjectLastUsedPaths =\n      values.projectLastUsedPaths[projectPath] || {};\n    newProjectLastUsedPaths[kind] = latestPath;\n\n    this.setState(\n      {\n        values: {\n          ...values,\n          projectLastUsedPaths: {\n            ...values.projectLastUsedPaths,\n            [projectPath]: newProjectLastUsedPaths,\n          },\n        },\n      },\n      () => this._persistValuesToLocalStorage(this.state)\n    );\n  }\n\n  _getDefaultEditorMosaicNode(name: EditorMosaicName) {\n    return this.state.values.defaultEditorMosaicNodes[name] || null;\n  }\n\n  _setDefaultEditorMosaicNode(name: EditorMosaicName, node: ?EditorMosaicNode) {\n    this.setState(\n      state => ({\n        values: {\n          ...state.values,\n          defaultEditorMosaicNodes: {\n            ...state.values.defaultEditorMosaicNodes,\n            // $FlowFixMe - Flow errors on unions in computed properties\n            [name]: node,\n          },\n        },\n      }),\n      () => this._persistValuesToLocalStorage(this.state)\n    );\n  }\n\n  _getRecentProjectFiles() {\n    return this.state.values.recentProjectFiles;\n  }\n\n  _setRecentProjectFiles(recents: Array<FileMetadataAndStorageProviderName>) {\n    this.setState(\n      state => ({\n        values: {\n          ...state.values,\n          recentProjectFiles: recents,\n        },\n      }),\n      () => this._persistValuesToLocalStorage(this.state)\n    );\n  }\n\n  _insertRecentProjectFile(newRecentFile: FileMetadataAndStorageProviderName) {\n    let recentProjectFiles = this._getRecentProjectFiles();\n    const isNotNewRecentFile = recentFile =>\n      recentFile.fileMetadata.fileIdentifier !==\n      newRecentFile.fileMetadata.fileIdentifier;\n    this._setRecentProjectFiles(\n      [newRecentFile, ...recentProjectFiles.filter(isNotNewRecentFile)].slice(\n        0,\n        MAX_RECENT_FILES_COUNT\n      )\n    );\n  }\n\n  _removeRecentProjectFile(recentFile: FileMetadataAndStorageProviderName) {\n    const isNotRemovedRecentFile = recentFileItem =>\n      recentFileItem.fileMetadata.fileIdentifier !==\n      recentFile.fileMetadata.fileIdentifier;\n    this._setRecentProjectFiles(\n      [...this._getRecentProjectFiles().filter(isNotRemovedRecentFile)].slice(\n        0,\n        MAX_RECENT_FILES_COUNT\n      )\n    );\n  }\n\n  _getAutoOpenMostRecentProject() {\n    return this.state.values.autoOpenMostRecentProject;\n  }\n\n  _setAutoOpenMostRecentProject(enabled: boolean) {\n    this.setState(\n      state => ({\n        values: {\n          ...state.values,\n          autoOpenMostRecentProject: enabled,\n        },\n      }),\n      () => this._persistValuesToLocalStorage(this.state)\n    );\n  }\n\n  _hadProjectOpenedDuringLastSession() {\n    return this.state.values.hasProjectOpened;\n  }\n\n  _setHasProjectOpened(enabled: boolean) {\n    this.setState(\n      state => ({\n        values: {\n          ...state.values,\n          hasProjectOpened: enabled,\n        },\n      }),\n      () => this._persistValuesToLocalStorage(this.state)\n    );\n  }\n\n  _resetShortcutsToDefault() {\n    this.setState(\n      state => ({\n        values: { ...state.values, userShortcutMap: {} },\n      }),\n      () => this._persistValuesToLocalStorage(this.state)\n    );\n  }\n\n  _setShortcutForCommand(commandName: CommandName, shortcutString: string) {\n    const defaultShortcut = defaultShortcuts[commandName] || '';\n    const setToDefault = defaultShortcut === shortcutString;\n\n    const updatedShortcutMap = { ...this.state.values.userShortcutMap };\n    if (setToDefault) delete updatedShortcutMap[commandName];\n    else updatedShortcutMap[commandName] = shortcutString;\n\n    this.setState(\n      state => ({\n        values: { ...state.values, userShortcutMap: updatedShortcutMap },\n      }),\n      () => this._persistValuesToLocalStorage(this.state)\n    );\n  }\n\n  _getNewObjectDialogDefaultTab() {\n    return this.state.values.newObjectDialogDefaultTab;\n  }\n\n  _setNewObjectDialogDefaultTab(\n    newObjectDialogDefaultTab: 'asset-store' | 'new-object'\n  ) {\n    this.setState(\n      state => ({\n        values: { ...state.values, newObjectDialogDefaultTab },\n      }),\n      () => this._persistValuesToLocalStorage(this.state)\n    );\n  }\n\n  _getIsMenuBarHiddenInPreview() {\n    return this.state.values.isMenuBarHiddenInPreview;\n  }\n\n  _setIsMenuBarHiddenInPreview(enabled: boolean) {\n    this.setState(\n      state => ({\n        values: {\n          ...state.values,\n          isMenuBarHiddenInPreview: enabled,\n        },\n      }),\n      () => this._persistValuesToLocalStorage(this.state)\n    );\n  }\n\n  _setBackdropClickBehavior(\n    backdropClickBehavior: 'nothing' | 'apply' | 'cancel'\n  ) {\n    this.setState(\n      state => ({\n        values: { ...state.values, backdropClickBehavior },\n      }),\n      () => this._persistValuesToLocalStorage(this.state)\n    );\n  }\n\n  _getIsAlwaysOnTopInPreview() {\n    return this.state.values.isAlwaysOnTopInPreview;\n  }\n\n  _setIsAlwaysOnTopInPreview(enabled: boolean) {\n    this.setState(\n      state => ({\n        values: {\n          ...state.values,\n          isAlwaysOnTopInPreview: enabled,\n        },\n      }),\n      () => this._persistValuesToLocalStorage(this.state)\n    );\n  }\n\n  render() {\n    return (\n      <PreferencesContext.Provider value={this.state}>\n        {this.props.children}\n      </PreferencesContext.Provider>\n    );\n  }\n}\n","//@flow\nimport React from 'react';\n\n/**\n * The list of event listeners.\n */\nconst listeners: Set<() => void> = new Set();\n\n// Event listener set-up\nif (typeof window !== 'undefined') {\n  const callListeners = () => listeners.forEach(callback => callback());\n  let timeout;\n  window.addEventListener('resize', () => {\n    clearTimeout(timeout);\n    timeout = setTimeout(callListeners, 200);\n  });\n}\n\n/**\n * A hook to call a callback when the window is resized,\n * while having only one resize DOM event handler.\n */\nexport const useOnResize = (callback: () => void) => {\n  React.useEffect(\n    () => {\n      listeners.add(callback);\n      return () => {\n        listeners.delete(callback);\n      };\n    },\n    [callback]\n  );\n};\n","// @flow\nimport * as React from 'react';\nimport useForceUpdate from '../../Utils/UseForceUpdate';\nimport { useOnResize } from '../../Utils/UseOnResize';\n\nexport type WidthType = 'small' | 'medium' | 'large';\n\ntype Props = {|\n  children: (width: WidthType) => React.Node,\n|};\n\n/**\n * Wraps useResponsiveWindowWidth in a component.\n */\nexport const ResponsiveWindowMeasurer = ({ children }: Props) =>\n  children(useResponsiveWindowWidth());\n\n/**\n * Return the size of the window.\n * This considers a window to be \"small\" if *both* the width and height\n * are small.\n */\nexport const useResponsiveWindowWidth = (): WidthType => {\n  useOnResize(useForceUpdate());\n\n  if (typeof window === 'undefined') {\n    return 'medium';\n  }\n\n  return window.innerWidth < 750 || window.innerHeight < 350\n    ? 'small'\n    : window.innerWidth < 1150\n    ? 'medium'\n    : 'large';\n};\n","// @flow\nconst localStoragePrefix = 'gd-local-stats';\n\nexport const getProgramOpeningCount = (): number => {\n  try {\n    const count = localStorage.getItem(`${localStoragePrefix}-program-opening`);\n    if (count !== null) return parseInt(count, 10);\n  } catch (e) {\n    console.warn('Unable to load stored program opening count', e);\n  }\n\n  return 0;\n};\n\nexport const incrementProgramOpeningCount = () => {\n  const count = getProgramOpeningCount() + 1;\n\n  try {\n    localStorage.setItem(`${localStoragePrefix}-program-opening`, '' + count);\n  } catch (e) {\n    console.warn('Unable to store program opening count', e);\n  }\n};\n","// @flow\nimport * as React from 'react';\nimport { Dialog as DialogMaterialUI } from '@material-ui/core';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport { useResponsiveWindowWidth } from '../Reponsive/ResponsiveWindowMeasurer';\nimport classNames from 'classnames';\nimport PreferencesContext from '../../MainFrame/Preferences/PreferencesContext';\nimport {\n  shouldCloseOrCancel,\n  shouldSubmit,\n} from '../KeyboardShortcuts/InteractionKeys';\nimport { LineStackLayout } from '../Layout';\nimport RaisedButton from '../RaisedButton';\n\nconst styles = {\n  defaultBody: {\n    overflowX: 'hidden',\n  },\n  noMarginBody: {\n    padding: 0,\n    overflowX: 'hidden',\n  },\n  flexColumnBody: {\n    display: 'flex',\n    flexDirection: 'column',\n  },\n  flexBody: {\n    display: 'flex',\n  },\n  actionsContainerWithSecondaryActions: {\n    display: 'flex',\n    justifyContent: 'space-between',\n  },\n  noTitleMargin: {\n    padding: 0,\n  },\n  fullHeightModal: {\n    minHeight: 'calc(100% - 64px)',\n  },\n};\n\n// We support a subset of the props supported by Material-UI v0.x Dialog\n// They should be self descriptive - refer to Material UI docs otherwise.\ntype Props = {|\n  open?: boolean,\n  title?: React.Node,\n  actions?: Array<?React.Node>,\n  secondaryActions?: Array<?React.Node>,\n\n  /**\n   * Callback called when the dialog is asking to be closed\n   * (either by Escape key or a click outside, according to preferences).\n   * This is the default way of closing a dialog and should almost always be\n   * specified - unless your dialog is representing an uninteruptible process.\n   *\n   * If `onApply` is also specified, this must be interpreted as a \"cancelling\"\n   * of changes.\n   */\n  onRequestClose?: () => void,\n\n  /**\n   * If specified, will be called when the dialog is dismissed in a way where changes\n   * must be kept or when using the submit keyboard shortcut.\n   * This is not applicable to all dialogs. Some dialogs may have no `onApply` and just a\n   * single `onRequestClose`.\n   */\n  onApply?: ?() => void | Promise<void>,\n\n  /**\n   * If specified, allows to prevent closing the dialog by clicking outside.\n   * This is useful for dialogs that either are in a loading state so we don't want to allow closing it,\n   * or for dialogs that may apply significant changes and we don't want the user to misclick.\n   */\n  cannotBeDismissed?: boolean,\n\n  children: React.Node, // The content of the dialog\n\n  // Display:\n  flexColumnBody?: boolean,\n  flexBody?: boolean,\n\n  // Size\n  maxWidth?: 'xs' | 'sm' | 'md' | 'lg' | 'xl' | false,\n  fullHeight?: boolean,\n\n  // Style:\n  noMargin?: boolean,\n  noTitleMargin?: boolean,\n\n  id?: ?string,\n|};\n\n// Help Flow to understand the type of the dialog content style.\ntype DialogContentStyle = {\n  padding?: 0,\n  overflowX?: 'hidden',\n  display?: 'flex',\n  flexDirection?: 'row' | 'column',\n};\n\nexport const DialogPrimaryButton = RaisedButton;\n\n/**\n * A enhanced material-ui Dialog that can have optional secondary actions\n * and no margins if required.\n */\nconst Dialog = (props: Props) => {\n  const {\n    onApply,\n    secondaryActions,\n    actions,\n    open,\n    onRequestClose,\n    maxWidth,\n    noMargin,\n    title,\n    children,\n    flexColumnBody,\n    flexBody,\n    fullHeight,\n    noTitleMargin,\n    id,\n    cannotBeDismissed,\n  } = props;\n\n  const preferences = React.useContext(PreferencesContext);\n  const backdropClickBehavior = preferences.values.backdropClickBehavior;\n  const size = useResponsiveWindowWidth();\n\n  const dialogActions = React.useMemo(\n    () => (\n      <React.Fragment>\n        {secondaryActions && (\n          <LineStackLayout key=\"secondary-actions\" noMargin>\n            {secondaryActions}\n          </LineStackLayout>\n        )}\n        {actions && (\n          <LineStackLayout key=\"actions\" noMargin>\n            {actions}\n          </LineStackLayout>\n        )}\n      </React.Fragment>\n    ),\n    [actions, secondaryActions]\n  );\n\n  const dialogContentStyle: DialogContentStyle = {\n    ...(noMargin ? styles.noMarginBody : styles.defaultBody),\n    ...((flexColumnBody ? styles.flexColumnBody : {}): DialogContentStyle),\n    ...((flexBody ? styles.flexBody : {}): DialogContentStyle),\n  };\n\n  const onCloseDialog = React.useCallback(\n    (event: any, reason: string) => {\n      if (!!cannotBeDismissed) return;\n      if (reason === 'escapeKeyDown') {\n        if (onRequestClose) onRequestClose();\n      } else if (reason === 'backdropClick') {\n        if (backdropClickBehavior === 'cancel') {\n          if (onRequestClose) onRequestClose();\n        } else if (backdropClickBehavior === 'apply') {\n          if (onApply) onApply();\n          else if (onRequestClose) onRequestClose();\n        } else if (backdropClickBehavior === 'nothing') {\n          return;\n        }\n      }\n    },\n    [onRequestClose, onApply, backdropClickBehavior, cannotBeDismissed]\n  );\n\n  const handleKeyDown = React.useCallback(\n    (event: SyntheticKeyboardEvent<HTMLElement>) => {\n      // When specifying a onKeyDown props, the MUIDialog does not handle\n      // the close on escape key feature anymore so it should be handled here.\n      if (shouldCloseOrCancel(event)) {\n        onCloseDialog(event, 'escapeKeyDown');\n        event.stopPropagation();\n        return;\n      }\n\n      if (onApply && shouldSubmit(event)) {\n        event.stopPropagation();\n        const element = document.activeElement;\n        if (element) element.blur();\n\n        onApply();\n      }\n    },\n    [onCloseDialog, onApply]\n  );\n\n  return (\n    <DialogMaterialUI\n      open={open}\n      onClose={onCloseDialog}\n      fullWidth\n      fullScreen={size === 'small'}\n      className={classNames({\n        'safe-area-aware-container': size === 'small',\n      })}\n      PaperProps={{ style: fullHeight ? styles.fullHeightModal : {}, id }}\n      maxWidth={maxWidth !== undefined ? maxWidth : 'md'}\n      disableBackdropClick={false}\n      onKeyDown={handleKeyDown}\n    >\n      {title && (\n        <DialogTitle style={noTitleMargin ? styles.noTitleMargin : undefined}>\n          {title}\n        </DialogTitle>\n      )}\n      <DialogContent style={dialogContentStyle}>{children}</DialogContent>\n      <DialogActions\n        style={\n          secondaryActions\n            ? styles.actionsContainerWithSecondaryActions\n            : undefined\n        }\n      >\n        {dialogActions}\n      </DialogActions>\n    </DialogMaterialUI>\n  );\n};\n\nexport default Dialog;\n"],"sourceRoot":""}